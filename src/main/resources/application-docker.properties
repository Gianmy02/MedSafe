spring.application.name=medsafe
spring.output.ansi.enabled=ALWAYS

# --- DATABASE (Docker) ---
# IntelliJ runs OUTSIDE Docker, so we use localhost:3307
spring.datasource.url=jdbc:mysql://localhost:3307/medsafe?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true

# Credentials defined in docker-compose
spring.datasource.username=root
spring.datasource.password=root

# MySQL standard config
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect

# Inizializzazione dati (esegue data.sql DOPO Hibernate)
spring.jpa.defer-datasource-initialization=true
spring.sql.init.mode=always
spring.sql.init.data-locations=classpath:db/data.sql

# --- SECURITY (Disabilitata per sviluppo) ---
spring.security.user.name=user
spring.security.user.password=password
# SecurityConfigLocal si occupa di disabilitare completamente la security

# --- AZURE (Docker Azurite) ---
# IntelliJ runs OUTSIDE Docker, so we use localhost:10000
azure.storage.connection-string=DefaultEndpointsProtocol=http;AccountName=devstoreaccount1;AccountKey=Eby8vdM02xNOcqFlqUwJPLlmEtlCDXJ1OUzFT50uSRZ6IFsuFq2UVErCz4I6tq/K1SZFPTOtr/KBHBeksoGMGw==;BlobEndpoint=http://127.0.0.1:10000/devstoreaccount1;
azure.storage.container-name=referti
