{"ast":null,"code":"import { environment } from '../../environments/environment';\nimport * as i0 from \"@angular/core\";\n/**\n * HTTP Interceptor per aggiungere header alle richieste.\n * In locale: aggiunge header standard.\n * In Azure: aggiunge token JWT di autenticazione da MSAL.\n */\nexport let AuthInterceptor = /*#__PURE__*/(() => {\n  class AuthInterceptor {\n    intercept(req, next) {\n      // Skip interception per richieste non-API (es. assets)\n      if (!req.url.startsWith(environment.apiUrl)) {\n        return next.handle(req);\n      }\n      let modifiedReq = req.clone({\n        setHeaders: {\n          'Content-Type': 'application/json',\n          'X-App-Version': environment.appVersion\n        }\n      });\n      // TODO: Quando abiliti auth in Azure, aggiungi qui il token JWT\n      // if (environment.auth.enabled) {\n      //   const token = this.getAccessToken(); // Da implementare con MSAL\n      //   if (token) {\n      //     modifiedReq = modifiedReq.clone({\n      //       setHeaders: {\n      //         'Authorization': `Bearer ${token}`\n      //       }\n      //     });\n      //   }\n      // }\n      return next.handle(modifiedReq);\n    }\n    static {\n      this.ɵfac = function AuthInterceptor_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || AuthInterceptor)();\n      };\n    }\n    static {\n      this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n        token: AuthInterceptor,\n        factory: AuthInterceptor.ɵfac\n      });\n    }\n  }\n  return AuthInterceptor;\n})();","map":{"version":3,"names":["environment","AuthInterceptor","intercept","req","next","url","startsWith","apiUrl","handle","modifiedReq","clone","setHeaders","appVersion","factory","ɵfac"],"sources":["C:\\Users\\gianm\\Desktop\\UNIVERSITÀ\\CLOUD\\medsafe-frontend\\src\\app\\interceptors\\auth.interceptor.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { HttpInterceptor, HttpRequest, HttpHandler, HttpEvent } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { environment } from '../../environments/environment';\r\n\r\n/**\r\n * HTTP Interceptor per aggiungere header alle richieste.\r\n * In locale: aggiunge header standard.\r\n * In Azure: aggiunge token JWT di autenticazione da MSAL.\r\n */\r\n@Injectable()\r\nexport class AuthInterceptor implements HttpInterceptor {\r\n\r\n  intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n    // Skip interception per richieste non-API (es. assets)\r\n    if (!req.url.startsWith(environment.apiUrl)) {\r\n      return next.handle(req);\r\n    }\r\n\r\n    let modifiedReq = req.clone({\r\n      setHeaders: {\r\n        'Content-Type': 'application/json',\r\n        'X-App-Version': environment.appVersion\r\n      }\r\n    });\r\n\r\n    // TODO: Quando abiliti auth in Azure, aggiungi qui il token JWT\r\n    // if (environment.auth.enabled) {\r\n    //   const token = this.getAccessToken(); // Da implementare con MSAL\r\n    //   if (token) {\r\n    //     modifiedReq = modifiedReq.clone({\r\n    //       setHeaders: {\r\n    //         'Authorization': `Bearer ${token}`\r\n    //       }\r\n    //     });\r\n    //   }\r\n    // }\r\n\r\n    return next.handle(modifiedReq);\r\n  }\r\n\r\n  // Placeholder per futuro MSAL integration\r\n  // private getAccessToken(): string | null {\r\n  //   // Ottieni token da MSAL service\r\n  //   return null;\r\n  // }\r\n}"],"mappings":"AAGA,SAASA,WAAW,QAAQ,gCAAgC;;AAE5D;;;;;AAMA,WAAaC,eAAe;EAAtB,MAAOA,eAAe;IAE1BC,SAASA,CAACC,GAAqB,EAAEC,IAAiB;MAChD;MACA,IAAI,CAACD,GAAG,CAACE,GAAG,CAACC,UAAU,CAACN,WAAW,CAACO,MAAM,CAAC,EAAE;QAC3C,OAAOH,IAAI,CAACI,MAAM,CAACL,GAAG,CAAC;MACzB;MAEA,IAAIM,WAAW,GAAGN,GAAG,CAACO,KAAK,CAAC;QAC1BC,UAAU,EAAE;UACV,cAAc,EAAE,kBAAkB;UAClC,eAAe,EAAEX,WAAW,CAACY;;OAEhC,CAAC;MAEF;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MAEA,OAAOR,IAAI,CAACI,MAAM,CAACC,WAAW,CAAC;IACjC;;;yCA5BWR,eAAe;MAAA;IAAA;;;eAAfA,eAAe;QAAAY,OAAA,EAAfZ,eAAe,CAAAa;MAAA;IAAA;;SAAfb,eAAe;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}