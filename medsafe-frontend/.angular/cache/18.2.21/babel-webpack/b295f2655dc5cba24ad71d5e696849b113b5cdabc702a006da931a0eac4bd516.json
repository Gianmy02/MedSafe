{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/referti.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nconst _c0 = a0 => ({\n  \"my-referto\": a0\n});\nfunction RefertiListComponent_div_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r0.errorMessage);\n  }\n}\nfunction RefertiListComponent_div_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21);\n    i0.ɵɵtext(1, \"Caricamento...\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RefertiListComponent_div_36_div_1_p_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 31);\n    i0.ɵɵtext(1, \"\\uD83D\\uDC64 Tuo referto\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RefertiListComponent_div_36_div_1_p_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\")(1, \"strong\");\n    i0.ɵɵtext(2, \"Referto:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const referto_r2 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", referto_r2.testoReferto, \"\");\n  }\n}\nfunction RefertiListComponent_div_36_div_1_p_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\")(1, \"strong\");\n    i0.ɵɵtext(2, \"Conclusioni:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const referto_r2 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", referto_r2.conclusioni, \"\");\n  }\n}\nfunction RefertiListComponent_div_36_div_1_button_23_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 32);\n    i0.ɵɵlistener(\"click\", function RefertiListComponent_div_36_div_1_button_23_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const referto_r2 = i0.ɵɵnextContext().$implicit;\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.downloadPdf(referto_r2.id));\n    });\n    i0.ɵɵtext(1, \" Scarica Documento Referto \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RefertiListComponent_div_36_div_1_button_24_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 32);\n    i0.ɵɵlistener(\"click\", function RefertiListComponent_div_36_div_1_button_24_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const referto_r2 = i0.ɵɵnextContext().$implicit;\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.downloadImmagine(referto_r2.id));\n    });\n    i0.ɵɵtext(1, \" Scarica Esame \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RefertiListComponent_div_36_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24)(1, \"div\", 25)(2, \"h4\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 26);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(6, RefertiListComponent_div_36_div_1_p_6_Template, 2, 0, \"p\", 27);\n    i0.ɵɵelementStart(7, \"p\")(8, \"strong\");\n    i0.ɵɵtext(9, \"CF:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"p\")(12, \"strong\");\n    i0.ɵɵtext(13, \"Medico:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"p\")(16, \"strong\");\n    i0.ɵɵtext(17, \"Data:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(18);\n    i0.ɵɵpipe(19, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(20, RefertiListComponent_div_36_div_1_p_20_Template, 4, 1, \"p\", 28)(21, RefertiListComponent_div_36_div_1_p_21_Template, 4, 1, \"p\", 28);\n    i0.ɵɵelementStart(22, \"div\", 29);\n    i0.ɵɵtemplate(23, RefertiListComponent_div_36_div_1_button_23_Template, 2, 0, \"button\", 30)(24, RefertiListComponent_div_36_div_1_button_24_Template, 2, 0, \"button\", 30);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const referto_r2 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(15, _c0, ctx_r0.isMyReferto(referto_r2)));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(referto_r2.nomePaziente);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngClass\", ctx_r0.getBadgeClass(referto_r2.tipoEsame));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(referto_r2.tipoEsame);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isMyReferto(referto_r2));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", referto_r2.codiceFiscale, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", referto_r2.autoreEmail, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(19, 12, referto_r2.dataCaricamento, \"dd/MM/yyyy HH:mm\"), \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", referto_r2.testoReferto);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", referto_r2.conclusioni);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", referto_r2.urlPdfGenerato);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", referto_r2.fileUrlImmagine);\n  }\n}\nfunction RefertiListComponent_div_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtemplate(1, RefertiListComponent_div_36_div_1_Template, 25, 17, \"div\", 23);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.referti);\n  }\n}\nfunction RefertiListComponent_div_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 33);\n    i0.ɵɵtext(1, \" Nessun referto trovato con i criteri specificati. \");\n    i0.ɵɵelementEnd();\n  }\n}\nexport let RefertiListComponent = /*#__PURE__*/(() => {\n  class RefertiListComponent {\n    constructor(refertiService) {\n      this.refertiService = refertiService;\n      // Simulazione utente loggato come admin\n      // TODO: Rimuovere quando il backend gestirà l'autenticazione\n      this.userEmail = 'admin@medsafe.local';\n      this.referti = [];\n      this.searchCodiceFiscale = '';\n      this.searchTipoEsame = '';\n      this.loading = false;\n      this.errorMessage = '';\n      this.searched = false;\n    }\n    ngOnInit() {}\n    searchReferti() {\n      // Se nessun campo è compilato, mostra tutti i referti\n      if (!this.searchCodiceFiscale.trim() && !this.searchTipoEsame) {\n        this.loading = true;\n        this.errorMessage = '';\n        this.searched = true;\n        this.refertiService.getAllReferti().subscribe({\n          next: data => {\n            this.referti = this.sortReferti(data);\n            this.loading = false;\n          },\n          error: error => {\n            this.errorMessage = 'Errore durante il caricamento dei referti';\n            console.error('Error:', error);\n            this.loading = false;\n          }\n        });\n        return;\n      }\n      this.loading = true;\n      this.errorMessage = '';\n      this.searched = true;\n      this.referti = [];\n      // Array per raccogliere i risultati da tutte le ricerche\n      const searchResults = [];\n      let completedSearches = 0;\n      let totalSearches = 0;\n      // Conta quante ricerche fare\n      if (this.searchCodiceFiscale.trim()) totalSearches++;\n      if (this.searchTipoEsame) totalSearches++;\n      const checkComplete = () => {\n        completedSearches++;\n        if (completedSearches === totalSearches) {\n          // Combina i risultati e filtra duplicati\n          if (searchResults.length === 0) {\n            this.referti = [];\n            this.loading = false;\n            return;\n          }\n          // Intersezione dei risultati (solo referti presenti in tutti i risultati)\n          if (searchResults.length === 1) {\n            this.referti = searchResults[0];\n          } else {\n            // Trova referti comuni a tutti i set di risultati\n            const allIds = searchResults.map(results => new Set(results.map(r => r.id)));\n            const commonIds = Array.from(allIds[0]).filter(id => allIds.every(set => set.has(id)));\n            this.referti = searchResults[0].filter(r => commonIds.includes(r.id));\n          }\n          // Ordina i referti mettendo quelli dell'utente loggato in cima\n          this.referti = this.sortReferti(this.referti);\n          this.loading = false;\n        }\n      };\n      // Esegui ricerche in parallelo\n      if (this.searchCodiceFiscale.trim()) {\n        this.refertiService.getRefertoByCodiceFiscale(this.searchCodiceFiscale.toUpperCase()).subscribe({\n          next: data => {\n            searchResults.push(Array.isArray(data) ? data : [data]);\n            checkComplete();\n          },\n          error: error => {\n            this.errorMessage = 'Errore durante la ricerca per codice fiscale';\n            console.error('Error:', error);\n            this.loading = false;\n          }\n        });\n      }\n      if (this.searchTipoEsame) {\n        this.refertiService.getRefertiByTipoEsame(this.searchTipoEsame).subscribe({\n          next: data => {\n            searchResults.push(data);\n            checkComplete();\n          },\n          error: error => {\n            this.errorMessage = 'Errore durante la ricerca per tipo esame';\n            console.error('Error:', error);\n            this.loading = false;\n          }\n        });\n      }\n    }\n    resetSearch() {\n      this.searchCodiceFiscale = '';\n      this.searchTipoEsame = '';\n      this.referti = [];\n      this.errorMessage = '';\n      this.searched = false;\n    }\n    isMyReferto(referto) {\n      return referto.autoreEmail === this.userEmail;\n    }\n    sortReferti(referti) {\n      return referti.sort((a, b) => {\n        const aIsMine = this.isMyReferto(a);\n        const bIsMine = this.isMyReferto(b);\n        if (aIsMine && !bIsMine) return -1;\n        if (!aIsMine && bIsMine) return 1;\n        return 0;\n      });\n    }\n    getBadgeClass(tipoEsame) {\n      const tipo = tipoEsame?.toUpperCase() || '';\n      switch (tipo) {\n        case 'RADIOGRAFIA':\n        case 'Radiografia'.toUpperCase():\n          return 'badge-radiografia';\n        case 'ECOGRAFIA':\n        case 'Ecografia'.toUpperCase():\n          return 'badge-ecografia';\n        case 'TAC':\n          return 'badge-tac';\n        case 'RISONANZA':\n        case 'RISONANZA MAGNETICA':\n        case 'Risonanza'.toUpperCase():\n          return 'badge-risonanza';\n        case 'ESAMI_LABORATORIO':\n        case 'ESAMI DI LABORATORIO':\n        case 'Esami_Laboratorio'.toUpperCase():\n          return 'badge-laboratorio';\n        default:\n          console.log('Tipo esame non riconosciuto:', tipoEsame);\n          return '';\n      }\n    }\n    downloadPdf(id) {\n      this.refertiService.downloadPdf(id).subscribe({\n        next: blob => {\n          const url = window.URL.createObjectURL(blob);\n          const a = document.createElement('a');\n          a.href = url;\n          a.download = `referto_${id}.pdf`;\n          document.body.appendChild(a);\n          a.click();\n          window.URL.revokeObjectURL(url);\n          document.body.removeChild(a);\n        },\n        error: error => {\n          this.errorMessage = 'Errore durante il download del PDF';\n          console.error('Error:', error);\n        }\n      });\n    }\n    downloadImmagine(id) {\n      this.refertiService.downloadImmagine(id).subscribe({\n        next: blob => {\n          const url = window.URL.createObjectURL(blob);\n          const a = document.createElement('a');\n          a.href = url;\n          a.download = `immagine_${id}`;\n          document.body.appendChild(a);\n          a.click();\n          window.URL.revokeObjectURL(url);\n          document.body.removeChild(a);\n        },\n        error: error => {\n          this.errorMessage = 'Errore durante il download dell\\'immagine';\n          console.error('Error:', error);\n        }\n      });\n    }\n    static {\n      this.ɵfac = function RefertiListComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || RefertiListComponent)(i0.ɵɵdirectiveInject(i1.RefertiService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: RefertiListComponent,\n        selectors: [[\"app-referti-list\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 38,\n        vars: 6,\n        consts: [[1, \"container\"], [1, \"search-section\"], [1, \"search-hint\"], [1, \"search-form\"], [1, \"form-group\"], [\"type\", \"text\", \"placeholder\", \"Inserisci codice fiscale\", \"maxlength\", \"16\", 3, \"ngModelChange\", \"ngModel\"], [3, \"ngModelChange\", \"ngModel\"], [\"value\", \"\"], [\"value\", \"TAC\"], [\"value\", \"Radiografia\"], [\"value\", \"Ecografia\"], [\"value\", \"Risonanza\"], [\"value\", \"Esami_Laboratorio\"], [1, \"search-actions\"], [1, \"btn-search\", 3, \"click\"], [1, \"btn-reset\", 3, \"click\"], [\"class\", \"error\", 4, \"ngIf\"], [\"class\", \"loading\", 4, \"ngIf\"], [\"class\", \"referti-grid\", 4, \"ngIf\"], [\"class\", \"no-results\", 4, \"ngIf\"], [1, \"error\"], [1, \"loading\"], [1, \"referti-grid\"], [\"class\", \"referto-card\", 3, \"ngClass\", 4, \"ngFor\", \"ngForOf\"], [1, \"referto-card\", 3, \"ngClass\"], [1, \"referto-header\"], [1, \"badge\", 3, \"ngClass\"], [\"class\", \"my-referto-label\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"actions\"], [3, \"click\", 4, \"ngIf\"], [1, \"my-referto-label\"], [3, \"click\"], [1, \"no-results\"]],\n        template: function RefertiListComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n            i0.ɵɵtext(2, \"Lista Referti\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(3, \"div\", 1)(4, \"h3\");\n            i0.ɵɵtext(5, \"Cerca Referti\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(6, \"p\", 2);\n            i0.ɵɵtext(7, \"Compila uno o pi\\u00F9 campi per filtrare i risultati\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(8, \"div\", 3)(9, \"div\", 4)(10, \"label\");\n            i0.ɵɵtext(11, \"Codice Fiscale:\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(12, \"input\", 5);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function RefertiListComponent_Template_input_ngModelChange_12_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.searchCodiceFiscale, $event) || (ctx.searchCodiceFiscale = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(13, \"div\", 4)(14, \"label\");\n            i0.ɵɵtext(15, \"Tipo Esame:\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(16, \"select\", 6);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function RefertiListComponent_Template_select_ngModelChange_16_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.searchTipoEsame, $event) || (ctx.searchTipoEsame = $event);\n              return $event;\n            });\n            i0.ɵɵelementStart(17, \"option\", 7);\n            i0.ɵɵtext(18, \"Tutti\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(19, \"option\", 8);\n            i0.ɵɵtext(20, \"TAC\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(21, \"option\", 9);\n            i0.ɵɵtext(22, \"Radiografia\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(23, \"option\", 10);\n            i0.ɵɵtext(24, \"Ecografia\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(25, \"option\", 11);\n            i0.ɵɵtext(26, \"Risonanza Magnetica\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(27, \"option\", 12);\n            i0.ɵɵtext(28, \"Esami di Laboratorio\");\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵelementStart(29, \"div\", 13)(30, \"button\", 14);\n            i0.ɵɵlistener(\"click\", function RefertiListComponent_Template_button_click_30_listener() {\n              return ctx.searchReferti();\n            });\n            i0.ɵɵtext(31, \" \\uD83D\\uDD0D Cerca Referti \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(32, \"button\", 15);\n            i0.ɵɵlistener(\"click\", function RefertiListComponent_Template_button_click_32_listener() {\n              return ctx.resetSearch();\n            });\n            i0.ɵɵtext(33, \" \\u21BB Reset \");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵtemplate(34, RefertiListComponent_div_34_Template, 2, 1, \"div\", 16)(35, RefertiListComponent_div_35_Template, 2, 0, \"div\", 17)(36, RefertiListComponent_div_36_Template, 2, 1, \"div\", 18)(37, RefertiListComponent_div_37_Template, 2, 0, \"div\", 19);\n            i0.ɵɵelementEnd();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(12);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.searchCodiceFiscale);\n            i0.ɵɵadvance(4);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.searchTipoEsame);\n            i0.ɵɵadvance(18);\n            i0.ɵɵproperty(\"ngIf\", ctx.errorMessage);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.loading);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", !ctx.loading && ctx.referti.length > 0);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", !ctx.loading && ctx.referti.length === 0 && ctx.searched);\n          }\n        },\n        dependencies: [CommonModule, i2.NgClass, i2.NgForOf, i2.NgIf, i2.DatePipe, FormsModule, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.DefaultValueAccessor, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.MaxLengthValidator, i3.NgModel],\n        styles: [\"@charset \\\"UTF-8\\\";\\n\\n\\n.container[_ngcontent-%COMP%] {\\n  max-width: 1400px;\\n  margin: 0 auto;\\n  padding: var(--spacing-xl);\\n  animation: fadeIn var(--transition-base);\\n}\\n\\nh2[_ngcontent-%COMP%] {\\n  font-size: 2.5rem;\\n  font-weight: 800;\\n  margin-bottom: var(--spacing-2xl);\\n  display: flex;\\n  align-items: center;\\n  gap: var(--spacing-lg);\\n  background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 50%, #10b981 100%);\\n  -webkit-background-clip: text;\\n  -webkit-text-fill-color: transparent;\\n  background-clip: text;\\n  animation: slideUp 0.6s ease-out;\\n}\\nh2[_ngcontent-%COMP%]::before {\\n  content: \\\"\\uD83D\\uDCCB\\\";\\n  font-size: 3rem;\\n  filter: drop-shadow(0 4px 10px rgba(59, 130, 246, 0.3));\\n}\\n\\nh3[_ngcontent-%COMP%] {\\n  color: var(--gray-800);\\n  font-size: var(--text-xl);\\n  font-weight: 600;\\n  margin-bottom: var(--spacing-lg);\\n}\\n\\n\\n\\n.search-section[_ngcontent-%COMP%] {\\n  background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);\\n  padding: var(--spacing-2xl);\\n  border-radius: 20px;\\n  margin-bottom: var(--spacing-2xl);\\n  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.08);\\n  border: 2px solid rgba(59, 130, 246, 0.1);\\n  transition: all 0.3s ease;\\n  position: relative;\\n  overflow: hidden;\\n}\\n.search-section[_ngcontent-%COMP%]::before {\\n  content: \\\"\\\";\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  height: 4px;\\n  background: linear-gradient(90deg, #1e3a8a 0%, #3b82f6 50%, #10b981 100%);\\n  box-shadow: 0 2px 10px rgba(59, 130, 246, 0.5);\\n  border-radius: 20px 20px 0 0;\\n}\\n.search-section[_ngcontent-%COMP%]:hover {\\n  box-shadow: 0 20px 60px rgba(59, 130, 246, 0.15);\\n  transform: translateY(-4px);\\n}\\n\\n.search-hint[_ngcontent-%COMP%] {\\n  color: var(--gray-600);\\n  font-size: var(--text-sm);\\n  margin-bottom: var(--spacing-lg);\\n  font-style: italic;\\n}\\n\\n.search-form[_ngcontent-%COMP%] {\\n  display: grid;\\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\\n  gap: var(--spacing-lg);\\n  margin-bottom: var(--spacing-lg);\\n}\\n\\n.form-group[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  gap: var(--spacing-sm);\\n}\\n.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\\n  font-weight: 600;\\n  color: var(--gray-700);\\n  font-size: var(--text-sm);\\n}\\n.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], \\n.form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%] {\\n  flex: 1;\\n  padding: var(--spacing-md) var(--spacing-lg);\\n  border: 2px solid var(--gray-300);\\n  border-radius: var(--radius-md);\\n  font-size: var(--text-base);\\n  font-family: var(--font-family-base);\\n  transition: all var(--transition-fast);\\n  background: white;\\n}\\n.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover, \\n.form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:hover {\\n  border-color: var(--primary-300);\\n}\\n.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, \\n.form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus {\\n  outline: none;\\n  border-color: var(--primary-500);\\n  box-shadow: 0 0 0 3px var(--primary-50);\\n}\\n.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, \\n.form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]::placeholder {\\n  color: var(--gray-400);\\n}\\n\\n.search-actions[_ngcontent-%COMP%] {\\n  display: flex;\\n  gap: var(--spacing-md);\\n  justify-content: flex-end;\\n  padding-top: var(--spacing-md);\\n  border-top: 1px solid var(--gray-200);\\n}\\n\\n.btn-search[_ngcontent-%COMP%], .btn-reset[_ngcontent-%COMP%] {\\n  padding: var(--spacing-md) var(--spacing-xl);\\n  border: none;\\n  border-radius: var(--radius-md);\\n  cursor: pointer;\\n  font-weight: 600;\\n  font-size: var(--text-base);\\n  transition: all var(--transition-fast);\\n  box-shadow: var(--shadow-sm);\\n}\\n.btn-search[_ngcontent-%COMP%]:hover, .btn-reset[_ngcontent-%COMP%]:hover {\\n  transform: translateY(-2px);\\n  box-shadow: var(--shadow-lg);\\n}\\n.btn-search[_ngcontent-%COMP%]:active, .btn-reset[_ngcontent-%COMP%]:active {\\n  transform: translateY(0);\\n}\\n\\n.btn-search[_ngcontent-%COMP%] {\\n  background: linear-gradient(135deg, var(--primary-600) 0%, var(--primary-700) 100%);\\n  color: white;\\n}\\n.btn-search[_ngcontent-%COMP%]:hover {\\n  background: linear-gradient(135deg, var(--primary-700) 0%, var(--primary-800) 100%);\\n}\\n\\n.btn-reset[_ngcontent-%COMP%] {\\n  background: var(--gray-200);\\n  color: var(--gray-700);\\n}\\n.btn-reset[_ngcontent-%COMP%]:hover {\\n  background: var(--gray-300);\\n}\\n\\n\\n\\n.referti-grid[_ngcontent-%COMP%] {\\n  display: grid;\\n  grid-template-columns: repeat(auto-fill, minmax(380px, 1fr));\\n  gap: var(--spacing-xl);\\n  animation: slideUp var(--transition-base);\\n}\\n\\n.referto-card[_ngcontent-%COMP%] {\\n  background: white;\\n  border: 2px solid var(--gray-200);\\n  border-radius: var(--radius-xl);\\n  padding: var(--spacing-xl);\\n  box-shadow: var(--shadow-md);\\n  transition: all var(--transition-base);\\n  position: relative;\\n  overflow: hidden;\\n}\\n.referto-card[_ngcontent-%COMP%]::before {\\n  content: \\\"\\\";\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  height: 4px;\\n  background: linear-gradient(90deg, var(--primary-500), var(--accent-500));\\n}\\n.referto-card[_ngcontent-%COMP%]:hover {\\n  transform: translateY(-4px);\\n  box-shadow: var(--shadow-xl);\\n  border-color: var(--primary-300);\\n}\\n.referto-card.my-referto[_ngcontent-%COMP%] {\\n  background: linear-gradient(135deg, #fffbeb 0%, #fef3c7 100%);\\n  border-color: #fbbf24;\\n  box-shadow: 0 4px 12px rgba(251, 191, 36, 0.3);\\n}\\n.referto-card.my-referto[_ngcontent-%COMP%]::before {\\n  background: linear-gradient(90deg, #f59e0b, #fbbf24);\\n}\\n.referto-card.my-referto[_ngcontent-%COMP%]:hover {\\n  border-color: #f59e0b;\\n  box-shadow: 0 8px 20px rgba(251, 191, 36, 0.4);\\n}\\n.referto-card[_ngcontent-%COMP%]   .my-referto-label[_ngcontent-%COMP%] {\\n  display: inline-block;\\n  background: linear-gradient(135deg, #f59e0b, #fbbf24);\\n  color: white;\\n  padding: var(--spacing-sm) var(--spacing-md);\\n  border-radius: 12px;\\n  font-size: 0.9rem;\\n  font-weight: 700;\\n  margin-bottom: var(--spacing-md);\\n  box-shadow: 0 4px 15px rgba(251, 191, 36, 0.4);\\n  animation: pulse 2s ease-in-out infinite;\\n}\\n.referto-card[_ngcontent-%COMP%]   .referto-header[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: flex-start;\\n  margin-bottom: var(--spacing-md);\\n}\\n.referto-card[_ngcontent-%COMP%]   .referto-header[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%] {\\n  background: var(--primary-100);\\n  color: var(--primary-700);\\n  padding: var(--spacing-xs) var(--spacing-sm);\\n  border-radius: var(--border-radius-sm);\\n  font-size: 0.85rem;\\n  font-weight: 700;\\n  white-space: nowrap;\\n  margin-left: var(--spacing-sm);\\n}\\n.referto-card[_ngcontent-%COMP%]   .referto-header[_ngcontent-%COMP%]   .badge.badge-radiografia[_ngcontent-%COMP%] {\\n  background: #d1fae5;\\n  color: #065f46;\\n}\\n.referto-card[_ngcontent-%COMP%]   .referto-header[_ngcontent-%COMP%]   .badge.badge-ecografia[_ngcontent-%COMP%] {\\n  background: #dbeafe;\\n  color: #1e40af;\\n}\\n.referto-card[_ngcontent-%COMP%]   .referto-header[_ngcontent-%COMP%]   .badge.badge-tac[_ngcontent-%COMP%] {\\n  background: #ede9fe;\\n  color: #5b21b6;\\n}\\n.referto-card[_ngcontent-%COMP%]   .referto-header[_ngcontent-%COMP%]   .badge.badge-risonanza[_ngcontent-%COMP%] {\\n  background: #e5e7eb;\\n  color: #374151;\\n}\\n.referto-card[_ngcontent-%COMP%]   .referto-header[_ngcontent-%COMP%]   .badge.badge-laboratorio[_ngcontent-%COMP%] {\\n  background: #fee2e2;\\n  color: #991b1b;\\n}\\n.referto-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%] {\\n  margin: 0;\\n  color: var(--primary-700);\\n  font-size: var(--text-xl);\\n  font-weight: 700;\\n  display: flex;\\n  align-items: center;\\n  gap: var(--spacing-sm);\\n  flex: 1;\\n  word-break: break-word;\\n}\\n.referto-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]::before {\\n  content: \\\"\\uD83D\\uDC64\\\";\\n  font-size: var(--text-2xl);\\n}\\n.referto-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  margin: var(--spacing-sm) 0;\\n  font-size: var(--text-sm);\\n  line-height: 1.6;\\n  color: var(--gray-700);\\n}\\n.referto-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%] {\\n  color: var(--gray-900);\\n  font-weight: 600;\\n  display: inline-block;\\n  min-width: 100px;\\n}\\n.referto-card[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%] {\\n  margin-top: var(--spacing-lg);\\n  padding-top: var(--spacing-lg);\\n  border-top: 1px solid var(--gray-200);\\n  display: flex;\\n  gap: var(--spacing-sm);\\n}\\n.referto-card[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n  flex: 1;\\n  padding: var(--spacing-sm) var(--spacing-md);\\n  background: var(--gray-100);\\n  color: var(--gray-800);\\n  border: 2px solid var(--gray-300);\\n  border-radius: var(--radius-md);\\n  cursor: pointer;\\n  font-size: var(--text-sm);\\n  font-weight: 600;\\n  transition: all var(--transition-fast);\\n}\\n.referto-card[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child {\\n  background: linear-gradient(135deg, var(--error) 0%, #d32f2f 100%);\\n  color: white;\\n  border-color: var(--error);\\n}\\n.referto-card[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child:hover {\\n  transform: translateY(-2px);\\n  box-shadow: var(--shadow-md);\\n}\\n.referto-card[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child {\\n  background: linear-gradient(135deg, var(--accent-500) 0%, var(--accent-700) 100%);\\n  color: white;\\n  border-color: var(--accent-500);\\n}\\n.referto-card[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child:hover {\\n  transform: translateY(-2px);\\n  box-shadow: var(--shadow-md);\\n}\\n\\n\\n\\n.error[_ngcontent-%COMP%] {\\n  color: white;\\n  background: linear-gradient(135deg, var(--error) 0%, #d32f2f 100%);\\n  padding: var(--spacing-lg);\\n  border-radius: var(--radius-lg);\\n  margin: var(--spacing-lg) 0;\\n  border-left: 4px solid #b71c1c;\\n  box-shadow: var(--shadow-md);\\n  font-weight: 500;\\n}\\n\\n.loading[_ngcontent-%COMP%] {\\n  text-align: center;\\n  padding: var(--spacing-3xl);\\n  color: var(--gray-600);\\n  font-size: var(--text-lg);\\n  animation: pulse 2s infinite;\\n}\\n\\n.no-results[_ngcontent-%COMP%] {\\n  text-align: center;\\n  padding: var(--spacing-3xl);\\n  color: var(--gray-500);\\n  font-size: var(--text-lg);\\n  background: white;\\n  border-radius: var(--radius-xl);\\n  border: 2px dashed var(--gray-300);\\n}\\n\\n\\n\\n\\n\\n@media (max-width: 1024px) {\\n  .container[_ngcontent-%COMP%] {\\n    padding: var(--spacing-lg);\\n  }\\n  .referti-grid[_ngcontent-%COMP%] {\\n    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\\n    gap: var(--spacing-lg);\\n  }\\n  .search-section[_ngcontent-%COMP%] {\\n    padding: var(--spacing-xl);\\n  }\\n}\\n\\n\\n@media (max-width: 768px) {\\n  .container[_ngcontent-%COMP%] {\\n    padding: var(--spacing-md);\\n  }\\n  h2[_ngcontent-%COMP%] {\\n    font-size: var(--text-2xl);\\n  }\\n  .search-section[_ngcontent-%COMP%] {\\n    padding: var(--spacing-lg);\\n  }\\n  .search-form[_ngcontent-%COMP%] {\\n    grid-template-columns: 1fr;\\n  }\\n  .search-actions[_ngcontent-%COMP%] {\\n    flex-direction: column;\\n  }\\n  .search-actions[_ngcontent-%COMP%]   .btn-search[_ngcontent-%COMP%], .search-actions[_ngcontent-%COMP%]   .btn-reset[_ngcontent-%COMP%] {\\n    width: 100%;\\n  }\\n  .referti-grid[_ngcontent-%COMP%] {\\n    grid-template-columns: 1fr;\\n    gap: var(--spacing-md);\\n  }\\n  .referto-card[_ngcontent-%COMP%] {\\n    padding: var(--spacing-lg);\\n  }\\n  .referto-card[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%] {\\n    flex-direction: column;\\n  }\\n  .referto-card[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n    width: 100%;\\n  }\\n}\\n\\n\\n@media (max-width: 480px) {\\n  h2[_ngcontent-%COMP%] {\\n    font-size: var(--text-xl);\\n  }\\n  h2[_ngcontent-%COMP%]::before {\\n    font-size: var(--text-2xl);\\n  }\\n  .search-section[_ngcontent-%COMP%] {\\n    padding: var(--spacing-md);\\n  }\\n  .referto-card[_ngcontent-%COMP%] {\\n    padding: var(--spacing-md);\\n  }\\n  .referto-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%] {\\n    font-size: var(--text-lg);\\n  }\\n  .referto-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n    font-size: var(--text-xs);\\n  }\\n  .referto-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%] {\\n    min-width: 80px;\\n    display: block;\\n    margin-bottom: 2px;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uLy4uLy4uLy4uL1VOSVZFUlNJVCVDMyU4MC9DTE9VRC9tZWRzYWZlLWZyb250ZW5kL3NyYy9hcHAvY29tcG9uZW50cy9yZWZlcnRpLWxpc3QvcmVmZXJ0aS1saXN0LmNvbXBvbmVudC5zY3NzIiwid2VicGFjazovLy4vc3JjL2FwcC9jb21wb25lbnRzL3JlZmVydGktbGlzdC9yZWZlcnRpLWxpc3QuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsZ0JBQWdCO0FDQWhCLHdEQUFBO0FBQ0E7RUFDRSxpQkFBQTtFQUNBLGNBQUE7RUFDQSwwQkFBQTtFQUNBLHdDQUFBO0FERUY7O0FDQ0E7RUFDRSxpQkFBQTtFQUNBLGdCQUFBO0VBQ0EsaUNBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxzQkFBQTtFQUNBLDBFQUFBO0VBQ0EsNkJBQUE7RUFDQSxvQ0FBQTtFQUNBLHFCQUFBO0VBQ0EsZ0NBQUE7QURFRjtBQ0FFO0VBQ0UsYUFBQTtFQUNBLGVBQUE7RUFDQSx1REFBQTtBREVKOztBQ0VBO0VBQ0Usc0JBQUE7RUFDQSx5QkFBQTtFQUNBLGdCQUFBO0VBQ0EsZ0NBQUE7QURDRjs7QUNFQSw2REFBQTtBQUNBO0VBQ0UsNkRBQUE7RUFDQSwyQkFBQTtFQUNBLG1CQUFBO0VBQ0EsaUNBQUE7RUFDQSwyQ0FBQTtFQUNBLHlDQUFBO0VBQ0EseUJBQUE7RUFDQSxrQkFBQTtFQUNBLGdCQUFBO0FEQ0Y7QUNDRTtFQUNFLFdBQUE7RUFDQSxrQkFBQTtFQUNBLE1BQUE7RUFDQSxPQUFBO0VBQ0EsUUFBQTtFQUNBLFdBQUE7RUFDQSx5RUFBQTtFQUNBLDhDQUFBO0VBQ0EsNEJBQUE7QURDSjtBQ0VFO0VBQ0UsZ0RBQUE7RUFDQSwyQkFBQTtBREFKOztBQ0lBO0VBQ0Usc0JBQUE7RUFDQSx5QkFBQTtFQUNBLGdDQUFBO0VBQ0Esa0JBQUE7QURERjs7QUNJQTtFQUNFLGFBQUE7RUFDQSwyREFBQTtFQUNBLHNCQUFBO0VB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Q0U7SUFDRSwwQkFBQTtFRDVDSjtFQ2dEQTtJQUNFLDBCQUFBO0VEOUNGO0VDaURBO0lBQ0UsMEJBQUE7RUQvQ0Y7RUNpREU7SUFDRSx5QkFBQTtFRC9DSjtFQ2tERTtJQUNFLHlCQUFBO0VEaERKO0VDa0RJO0lBQ0UsZUFBQTtJQUNBLGNBQUE7SUFDQSxrQkFBQTtFRGhETjtBQUNGIiwic291cmNlc0NvbnRlbnQiOlsiQGNoYXJzZXQgXCJVVEYtOFwiO1xuLyogPT09PT09PT09PT09PT09PT09PT0gQ09OVEFJTkVSID09PT09PT09PT09PT09PT09PT09ICovXG4uY29udGFpbmVyIHtcbiAgbWF4LXdpZHRoOiAxNDAwcHg7XG4gIG1hcmdpbjogMCBhdXRvO1xuICBwYWRkaW5nOiB2YXIoLS1zcGFjaW5nLXhsKTtcbiAgYW5pbWF0aW9uOiBmYWRlSW4gdmFyKC0tdHJhbnNpdGlvbi1iYXNlKTtcbn1cblxuaDIge1xuICBmb250LXNpemU6IDIuNXJlbTtcbiAgZm9udC13ZWlnaHQ6IDgwMDtcbiAgbWFyZ2luLWJvdHRvbTogdmFyKC0tc3BhY2luZy0yeGwpO1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBnYXA6IHZhcigtLXNwYWNpbmctbGcpO1xuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjMWUzYThhIDAlLCAjM2I4MmY2IDUwJSwgIzEwYjk4MSAxMDAlKTtcbiAgLXdlYmtpdC1iYWNrZ3JvdW5kLWNsaXA6IHRleHQ7XG4gIC13ZWJraXQtdGV4dC1maWxsLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgYmFja2dyb3VuZC1jbGlwOiB0ZXh0O1xuICBhbmltYXRpb246IHNsaWRlVXAgMC42cyBlYXNlLW91dDtcbn1cbmgyOjpiZWZvcmUge1xuICBjb250ZW50OiBcIsOwwp/Ck8KLXCI7XG4gIGZvbnQtc2l6ZTogM3JlbTtcbiAgZmlsdGVyOiBkcm9wLXNoYWRvdygwIDRweCAxMHB4IHJnYmEoNTksIDEzMCwgMjQ2LCAwLjMpKTtcbn1cblxuaDMge1xuICBjb2xvcjogdmFyKC0tZ3JheS04MDApO1xuICBmb250LXNpemU6IHZhcigtLXRleHQteGwpO1xuICBmb250LXdlaWdodDogNjAwO1xuICBtYXJnaW4tYm90dG9tOiB2YXIoLS1zcGFjaW5nLWxnKTtcbn1cblxuLyogPT09PT09PT09PT09PT09PT09PT0gU0VBUkNIIFNFQ1RJT04gPT09PT09PT09PT09PT09PT09PT0gKi9cbi5zZWFyY2gtc2VjdGlvbiB7XG4gIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICNmZmZmZmYgMCUsICNmOGZhZmMgMTAwJSk7XG4gIHBhZGRpbmc6IHZhcigtLXNwYWNpbmctMnhsKTtcbiAgYm9yZGVyLXJhZGl1czogMjBweDtcbiAgbWFyZ2luLWJvdHRvbTogdmFyKC0tc3BhY2luZy0yeGwpO1xuICBib3gtc2hhZG93OiAwIDEwcHggNDBweCByZ2JhKDAsIDAsIDAsIDAuMDgpO1xuICBib3JkZXI6IDJweCBzb2xpZCByZ2JhKDU5LCAxMzAsIDI0NiwgMC4xKTtcbiAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBvdmVyZmxvdzogaGlkZGVuO1xufVxuLnNlYXJjaC1zZWN0aW9uOjpiZWZvcmUge1xuICBjb250ZW50OiBcIlwiO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgcmlnaHQ6IDA7XG4gIGhlaWdodDogNHB4O1xuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoOTBkZWcsICMxZTNhOGEgMCUsICMzYjgyZjYgNTAlLCAjMTBiOTgxIDEwMCUpO1xuICBib3gtc2hhZG93OiAwIDJweCAxMHB4IHJnYmEoNTksIDEzMCwgMjQ2LCAwLjUpO1xuICBib3JkZXItcmFkaXVzOiAyMHB4IDIwcHggMCAwO1xufVxuLnNlYXJjaC1zZWN0aW9uOmhvdmVyIHtcbiAgYm94LXNoYWRvdzogMCAyMHB4IDYwcHggcmdiYSg1OSwgMTMwLCAyNDYsIDAuMTUpO1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTRweCk7XG59XG5cbi5zZWFyY2gtaGludCB7XG4gIGNvbG9yOiB2YXIoLS1ncmF5LTYwMCk7XG4gIGZvbnQtc2l6ZTogdmFyKC0tdGV4dC1zbSk7XG4gIG1hcmdpbi1ib3R0b206IHZhcigtLXNwYWNpbmctbGcpO1xuICBmb250LXN0eWxlOiBpdGFsaWM7XG59XG5cbi5zZWFyY2gtZm9ybSB7XG4gIGRpc3BsYXk6IGdyaWQ7XG4gIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZml0LCBtaW5tYXgoMjUwcHgsIDFmcikpO1xuICBnYXA6IHZhcigtLXNwYWNpbmctbGcpO1xuICBtYXJnaW4tYm90dG9tOiB2YXIoLS1zcGFjaW5nLWxnKTtcbn1cblxuLmZvcm0tZ3JvdXAge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBnYXA6IHZhcigtLXNwYWNpbmctc20pO1xufVxuLmZvcm0tZ3JvdXAgbGFiZWwge1xuICBmb250LXdlaWdodDogNjAwO1xuICBjb2xvcjogdmFyKC0tZ3JheS03MDApO1xuICBmb250LXNpemU6IHZhcigtLXRleHQtc20pO1xufVxuLmZvcm0tZ3JvdXAgaW5wdXQsXG4uZm9ybS1ncm91cCBzZWxlY3Qge1xuICBmbGV4OiAxO1xuICBwYWRkaW5nOiB2YXIoLS1zcGFjaW5nLW1kKSB2YXIoLS1zcGFjaW5nLWxnKTtcbiAgYm9yZGVyOiAycHggc29saWQgdmFyKC0tZ3JheS0zMDApO1xuICBib3JkZXItcmFkaXVzOiB2YXIoLS1yYWRpdXMtbWQpO1xuICBmb250LXNpemU6IHZhcigtLXRleHQtYmFzZSk7XG4gIGZvbnQtZmFtaWx5OiB2YXIoLS1mb250LWZhbWlseS1iYXNlKTtcbiAgdHJhbnNpdGlvbjogYWxsIHZhcigtLXRyYW5zaXRpb24tZmFzdCk7XG4gIGJhY2tncm91bmQ6IHdoaXRlO1xufVxuLmZvcm0tZ3JvdXAgaW5wdXQ6aG92ZXIsXG4uZm9ybS1ncm91cCBzZWxlY3Q6aG92ZXIge1xuICBib3JkZXItY29sb3I6IHZhcigtLXByaW1hcnktMzAwKTtcbn1cbi5mb3JtLWdyb3VwIGlucHV0OmZvY3VzLFxuLmZvcm0tZ3JvdXAgc2VsZWN0OmZvY3VzIHtcbiAgb3V0bGluZTogbm9uZTtcbiAgYm9yZGVyLWNvbG9yOiB2YXIoLS1wcmltYXJ5LTUwMCk7XG4gIGJveC1zaGFkb3c6IDAgMCAwIDNweCB2YXIoLS1wcmltYXJ5LTUwKTtcbn1cbi5mb3JtLWdyb3VwIGlucHV0OjpwbGFjZWhvbGRlcixcbi5mb3JtLWdyb3VwIHNlbGVjdDo6cGxhY2Vob2xkZXIge1xuICBjb2xvcjogdmFyKC0tZ3JheS00MDApO1xufVxuXG4uc2VhcmNoLWFjdGlvbnMge1xuICBkaXNwbGF5OiBmbGV4O1xuICBnYXA6IHZhcigtLXNwYWNpbmctbWQpO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xuICBwYWRkaW5nLXRvcDogdmFyKC0tc3BhY2luZy1tZCk7XG4gIGJvcmRlci10b3A6IDFweCBzb2xpZCB2YXIoLS1ncmF5LTIwMCk7XG59XG5cbi5idG4tc2VhcmNoLCAuYnRuLXJlc2V0IHtcbiAgcGFkZGluZzogdmFyKC0tc3BhY2luZy1tZCkgdmFyKC0tc3BhY2luZy14bCk7XG4gIGJvcmRlcjogbm9uZTtcbiAgYm9yZGVyLXJhZGl1czogdmFyKC0tcmFkaXVzLW1kKTtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBmb250LXdlaWdodDogNjAwO1xuICBmb250LXNpemU6IHZhcigtLXRleHQtYmFzZSk7XG4gIHRyYW5zaXRpb246IGFsbCB2YXIoLS10cmFuc2l0aW9uLWZhc3QpO1xuICBib3gtc2hhZG93OiB2YXIoLS1zaGFkb3ctc20pO1xufVxuLmJ0bi1zZWFyY2g6aG92ZXIsIC5idG4tcmVzZXQ6aG92ZXIge1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTJweCk7XG4gIGJveC1zaGFkb3c6IHZhcigtLXNoYWRvdy1sZyk7XG59XG4uYnRuLXNlYXJjaDphY3RpdmUsIC5idG4tcmVzZXQ6YWN0aXZlIHtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApO1xufVxuXG4uYnRuLXNlYXJjaCB7XG4gIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsIHZhcigtLXByaW1hcnktNjAwKSAwJSwgdmFyKC0tcHJpbWFyeS03MDApIDEwMCUpO1xuICBjb2xvcjogd2hpdGU7XG59XG4uYnRuLXNlYXJjaDpob3ZlciB7XG4gIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsIHZhcigtLXByaW1hcnktNzAwKSAwJSwgdmFyKC0tcHJpbWFyeS04MDApIDEwMCUpO1xufVxuXG4uYnRuLXJlc2V0IHtcbiAgYmFja2dyb3VuZDogdmFyKC0tZ3JheS0yMDApO1xuICBjb2xvcjogdmFyKC0tZ3JheS03MDApO1xufVxuLmJ0bi1yZXNldDpob3ZlciB7XG4gIGJhY2tncm91bmQ6IHZhcigtLWdyYXktMzAwKTtcbn1cblxuLyogPT09PT09PT09PT09PT09PT09PT0gUkVGRVJUSSBHUklEID09PT09PT09PT09PT09PT09PT09ICovXG4ucmVmZXJ0aS1ncmlkIHtcbiAgZGlzcGxheTogZ3JpZDtcbiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maWxsLCBtaW5tYXgoMzgwcHgsIDFmcikpO1xuICBnYXA6IHZhcigtLXNwYWNpbmcteGwpO1xuICBhbmltYXRpb246IHNsaWRlVXAgdmFyKC0tdHJhbnNpdGlvbi1iYXNlKTtcbn1cblxuLnJlZmVydG8tY2FyZCB7XG4gIGJhY2tncm91bmQ6IHdoaXRlO1xuICBib3JkZXI6IDJweCBzb2xpZCB2YXIoLS1ncmF5LTIwMCk7XG4gIGJvcmRlci1yYWRpdXM6IHZhcigtLXJhZGl1cy14bCk7XG4gIHBhZGRpbmc6IHZhcigtLXNwYWNpbmcteGwpO1xuICBib3gtc2hhZG93OiB2YXIoLS1zaGFkb3ctbWQpO1xuICB0cmFuc2l0aW9uOiBhbGwgdmFyKC0tdHJhbnNpdGlvbi1iYXNlKTtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBvdmVyZmxvdzogaGlkZGVuO1xufVxuLnJlZmVydG8tY2FyZDo6YmVmb3JlIHtcbiAgY29udGVudDogXCJcIjtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDA7XG4gIGxlZnQ6IDA7XG4gIHJpZ2h0OiAwO1xuICBoZWlnaHQ6IDRweDtcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDkwZGVnLCB2YXIoLS1wcmltYXJ5LTUwMCksIHZhcigtLWFjY2VudC01MDApKTtcbn1cbi5yZWZlcnRvLWNhcmQ6aG92ZXIge1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTRweCk7XG4gIGJveC1zaGFkb3c6IHZhcigtLXNoYWRvdy14bCk7XG4gIGJvcmRlci1jb2xvcjogdmFyKC0tcHJpbWFyeS0zMDApO1xufVxuLnJlZmVydG8tY2FyZC5teS1yZWZlcnRvIHtcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgI2ZmZmJlYiAwJSwgI2ZlZjNjNyAxMDAlKTtcbiAgYm9yZGVyLWNvbG9yOiAjZmJiZjI0O1xuICBib3gtc2hhZG93OiAwIDRweCAxMnB4IHJnYmEoMjUxLCAxOTEsIDM2LCAwLjMpO1xufVxuLnJlZmVydG8tY2FyZC5teS1yZWZlcnRvOjpiZWZvcmUge1xuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoOTBkZWcsICNmNTllMGIsICNmYmJmMjQpO1xufVxuLnJlZmVydG8tY2FyZC5teS1yZWZlcnRvOmhvdmVyIHtcbiAgYm9yZGVyLWNvbG9yOiAjZjU5ZTBiO1xuICBib3gtc2hhZG93OiAwIDhweCAyMHB4IHJnYmEoMjUxLCAxOTEsIDM2LCAwLjQpO1xufVxuLnJlZmVydG8tY2FyZCAubXktcmVmZXJ0by1sYWJlbCB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgI2Y1OWUwYiwgI2ZiYmYyNCk7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgcGFkZGluZzogdmFyKC0tc3BhY2luZy1zbSkgdmFyKC0tc3BhY2luZy1tZCk7XG4gIGJvcmRlci1yYWRpdXM6IDEycHg7XG4gIGZvbnQtc2l6ZTogMC45cmVtO1xuICBmb250LXdlaWdodDogNzAwO1xuICBtYXJnaW4tYm90dG9tOiB2YXIoLS1zcGFjaW5nLW1kKTtcbiAgYm94LXNoYWRvdzogMCA0cHggMTVweCByZ2JhKDI1MSwgMTkxLCAzNiwgMC40KTtcbiAgYW5pbWF0aW9uOiBwdWxzZSAycyBlYXNlLWluLW91dCBpbmZpbml0ZTtcbn1cbi5yZWZlcnRvLWNhcmQgLnJlZmVydG8taGVhZGVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICBhbGlnbi1pdGVtczogZmxleC1zdGFydDtcbiAgbWFyZ2luLWJvdHRvbTogdmFyKC0tc3BhY2luZy1tZCk7XG59XG4ucmVmZXJ0by1jYXJkIC5yZWZlcnRvLWhlYWRlciAuYmFkZ2Uge1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1wcmltYXJ5LTEwMCk7XG4gIGNvbG9yOiB2YXIoLS1wcmltYXJ5LTcwMCk7XG4gIHBhZGRpbmc6IHZhcigtLXNwYWNpbmcteHMpIHZhcigtLXNwYWNpbmctc20pO1xuICBib3JkZXItcmFkaXVzOiB2YXIoLS1ib3JkZXItcmFkaXVzLXNtKTtcbiAgZm9udC1zaXplOiAwLjg1cmVtO1xuICBmb250LXdlaWdodDogNzAwO1xuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICBtYXJnaW4tbGVmdDogdmFyKC0tc3BhY2luZy1zbSk7XG59XG4ucmVmZXJ0by1jYXJkIC5yZWZlcnRvLWhlYWRlciAuYmFkZ2UuYmFkZ2UtcmFkaW9ncmFmaWEge1xuICBiYWNrZ3JvdW5kOiAjZDFmYWU1O1xuICBjb2xvcjogIzA2NWY0Njtcbn1cbi5yZWZlcnRvLWNhcmQgLnJlZmVydG8taGVhZGVyIC5iYWRnZS5iYWRnZS1lY29ncmFmaWEge1xuICBiYWNrZ3JvdW5kOiAjZGJlYWZlO1xuICBjb2xvcjogIzFlNDBhZjtcbn1cbi5yZWZlcnRvLWNhcmQgLnJlZmVydG8taGVhZGVyIC5iYWRnZS5iYWRnZS10YWMge1xuICBiYWNrZ3JvdW5kOiAjZWRlOWZlO1xuICBjb2xvcjogIzViMjFiNjtcbn1cbi5yZWZlcnRvLWNhcmQgLnJlZmVydG8taGVhZGVyIC5iYWRnZS5iYWRnZS1yaXNvbmFuemEge1xuICBiYWNrZ3JvdW5kOiAjZTVlN2ViO1xuICBjb2xvcjogIzM3NDE1MTtcbn1cbi5yZWZlcnRvLWNhcmQgLnJlZmVydG8taGVhZGVyIC5iYWRnZS5iYWRnZS1sYWJvcmF0b3JpbyB7XG4gIGJhY2tncm91bmQ6ICNmZWUyZTI7XG4gIGNvbG9yOiAjOTkxYjFiO1xufVxuLnJlZmVydG8tY2FyZCBoNCB7XG4gIG1hcmdpbjogMDtcbiAgY29sb3I6IHZhcigtLXByaW1hcnktNzAwKTtcbiAgZm9udC1zaXplOiB2YXIoLS10ZXh0LXhsKTtcbiAgZm9udC13ZWlnaHQ6IDcwMDtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgZ2FwOiB2YXIoLS1zcGFjaW5nLXNtKTtcbiAgZmxleDogMTtcbiAgd29yZC1icmVhazogYnJlYWstd29yZDtcbn1cbi5yZWZlcnRvLWNhcmQgaDQ6OmJlZm9yZSB7XG4gIGNvbnRlbnQ6IFwiw7DCn8KRwqRcIjtcbiAgZm9udC1zaXplOiB2YXIoLS10ZXh0LTJ4bCk7XG59XG4ucmVmZXJ0by1jYXJkIHAge1xuICBtYXJnaW46IHZhcigtLXNwYWNpbmctc20pIDA7XG4gIGZvbnQtc2l6ZTogdmFyKC0tdGV4dC1zbSk7XG4gIGxpbmUtaGVpZ2h0OiAxLjY7XG4gIGNvbG9yOiB2YXIoLS1ncmF5LTcwMCk7XG59XG4ucmVmZXJ0by1jYXJkIHAgc3Ryb25nIHtcbiAgY29sb3I6IHZhcigtLWdyYXktOTAwKTtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBtaW4td2lkdGg6IDEwMHB4O1xufVxuLnJlZmVydG8tY2FyZCAuYWN0aW9ucyB7XG4gIG1hcmdpbi10b3A6IHZhcigtLXNwYWNpbmctbGcpO1xuICBwYWRkaW5nLXRvcDogdmFyKC0tc3BhY2luZy1sZyk7XG4gIGJvcmRlci10b3A6IDFweCBzb2xpZCB2YXIoLS1ncmF5LTIwMCk7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGdhcDogdmFyKC0tc3BhY2luZy1zbSk7XG59XG4ucmVmZXJ0by1jYXJkIC5hY3Rpb25zIGJ1dHRvbiB7XG4gIGZsZXg6IDE7XG4gIHBhZGRpbmc6IHZhcigtLXNwYWNpbmctc20pIHZhcigtLXNwYWNpbmctbWQpO1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1ncmF5LTEwMCk7XG4gIGNvbG9yOiB2YXIoLS1ncmF5LTgwMCk7XG4gIGJvcmRlcjogMnB4IHNvbGlkIHZhcigtLWdyYXktMzAwKTtcbiAgYm9yZGVyLXJhZGl1czogdmFyKC0tcmFkaXVzLW1kKTtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBmb250LXNpemU6IHZhcigtLXRleHQtc20pO1xuICBmb250LXdlaWdodDogNjAwO1xuICB0cmFuc2l0aW9uOiBhbGwgdmFyKC0tdHJhbnNpdGlvbi1mYXN0KTtcbn1cbi5yZWZlcnRvLWNhcmQgLmFjdGlvbnMgYnV0dG9uOmZpcnN0LWNoaWxkIHtcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgdmFyKC0tZXJyb3IpIDAlLCAjZDMyZjJmIDEwMCUpO1xuICBjb2xvcjogd2hpdGU7XG4gIGJvcmRlci1jb2xvcjogdmFyKC0tZXJyb3IpO1xufVxuLnJlZmVydG8tY2FyZCAuYWN0aW9ucyBidXR0b246Zmlyc3QtY2hpbGQ6aG92ZXIge1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTJweCk7XG4gIGJveC1zaGFkb3c6IHZhcigtLXNoYWRvdy1tZCk7XG59XG4ucmVmZXJ0by1jYXJkIC5hY3Rpb25zIGJ1dHRvbjpsYXN0LWNoaWxkIHtcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgdmFyKC0tYWNjZW50LTUwMCkgMCUsIHZhcigtLWFjY2VudC03MDApIDEwMCUpO1xuICBjb2xvcjogd2hpdGU7XG4gIGJvcmRlci1jb2xvcjogdmFyKC0tYWNjZW50LTUwMCk7XG59XG4ucmVmZXJ0by1jYXJkIC5hY3Rpb25zIGJ1dHRvbjpsYXN0LWNoaWxkOmhvdmVyIHtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0ycHgpO1xuICBib3gtc2hhZG93OiB2YXIoLS1zaGFkb3ctbWQpO1xufVxuXG4vKiA9PT09PT09PT09PT09PT09PT09PSBTVEFURVMgPT09PT09PT09PT09PT09PT09PT0gKi9cbi5lcnJvciB7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgdmFyKC0tZXJyb3IpIDAlLCAjZDMyZjJmIDEwMCUpO1xuICBwYWRkaW5nOiB2YXIoLS1zcGFjaW5nLWxnKTtcbiAgYm9yZGVyLXJhZGl1czogdmFyKC0tcmFkaXVzLWxnKTtcbiAgbWFyZ2luOiB2YXIoLS1zcGFjaW5nLWxnKSAwO1xuICBib3JkZXItbGVmdDogNHB4IHNvbGlkICNiNzFjMWM7XG4gIGJveC1zaGFkb3c6IHZhcigtLXNoYWRvdy1tZCk7XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG59XG5cbi5sb2FkaW5nIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBwYWRkaW5nOiB2YXIoLS1zcGFjaW5nLTN4bCk7XG4gIGNvbG9yOiB2YXIoLS1ncmF5LTYwMCk7XG4gIGZvbnQtc2l6ZTogdmFyKC0tdGV4dC1sZyk7XG4gIGFuaW1hdGlvbjogcHVsc2UgMnMgaW5maW5pdGU7XG59XG5cbi5uby1yZXN1bHRzIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBwYWRkaW5nOiB2YXIoLS1zcGFjaW5nLTN4bCk7XG4gIGNvbG9yOiB2YXIoLS1ncmF5LTUwMCk7XG4gIGZvbnQtc2l6ZTogdmFyKC0tdGV4dC1sZyk7XG4gIGJhY2tncm91bmQ6IHdoaXRlO1xuICBib3JkZXItcmFkaXVzOiB2YXIoLS1yYWRpdXMteGwpO1xuICBib3JkZXI6IDJweCBkYXNoZWQgdmFyKC0tZ3JheS0zMDApO1xufVxuXG4vKiA9PT09PT09PT09PT09PT09PT09PSBSRVNQT05TSVZFIERFU0lHTiA9PT09PT09PT09PT09PT09PT09PSAqL1xuLyogVGFibGV0ICovXG5AbWVkaWEgKG1heC13aWR0aDogMTAyNHB4KSB7XG4gIC5jb250YWluZXIge1xuICAgIHBhZGRpbmc6IHZhcigtLXNwYWNpbmctbGcpO1xuICB9XG4gIC5yZWZlcnRpLWdyaWQge1xuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZmlsbCwgbWlubWF4KDMyMHB4LCAxZnIpKTtcbiAgICBnYXA6IHZhcigtLXNwYWNpbmctbGcpO1xuICB9XG4gIC5zZWFyY2gtc2VjdGlvbiB7XG4gICAgcGFkZGluZzogdmFyKC0tc3BhY2luZy14bCk7XG4gIH1cbn1cbi8qIE1vYmlsZSAqL1xuQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7XG4gIC5jb250YWluZXIge1xuICAgIHBhZGRpbmc6IHZhcigtLXNwYWNpbmctbWQpO1xuICB9XG4gIGgyIHtcbiAgICBmb250LXNpemU6IHZhcigtLXRleHQtMnhsKTtcbiAgfVxuICAuc2VhcmNoLXNlY3Rpb24ge1xuICAgIHBhZGRpbmc6IHZhcigtLXNwYWNpbmctbGcpO1xuICB9XG4gIC5zZWFyY2gtZm9ybSB7XG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnI7XG4gIH1cbiAgLnNlYXJjaC1hY3Rpb25zIHtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICB9XG4gIC5zZWFyY2gtYWN0aW9ucyAuYnRuLXNlYXJjaCwgLnNlYXJjaC1hY3Rpb25zIC5idG4tcmVzZXQge1xuICAgIHdpZHRoOiAxMDAlO1xuICB9XG4gIC5yZWZlcnRpLWdyaWQge1xuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyO1xuICAgIGdhcDogdmFyKC0tc3BhY2luZy1tZCk7XG4gIH1cbiAgLnJlZmVydG8tY2FyZCB7XG4gICAgcGFkZGluZzogdmFyKC0tc3BhY2luZy1sZyk7XG4gIH1cbiAgLnJlZmVydG8tY2FyZCAuYWN0aW9ucyB7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgfVxuICAucmVmZXJ0by1jYXJkIC5hY3Rpb25zIGJ1dHRvbiB7XG4gICAgd2lkdGg6IDEwMCU7XG4gIH1cbn1cbi8qIFNtYWxsIE1vYmlsZSAqL1xuQG1lZGlhIChtYXgtd2lkdGg6IDQ4MHB4KSB7XG4gIGgyIHtcbiAgICBmb250LXNpemU6IHZhcigtLXRleHQteGwpO1xuICB9XG4gIGgyOjpiZWZvcmUge1xuICAgIGZvbnQtc2l6ZTogdmFyKC0tdGV4dC0yeGwpO1xuICB9XG4gIC5zZWFyY2gtc2VjdGlvbiB7XG4gICAgcGFkZGluZzogdmFyKC0tc3BhY2luZy1tZCk7XG4gIH1cbiAgLnJlZmVydG8tY2FyZCB7XG4gICAgcGFkZGluZzogdmFyKC0tc3BhY2luZy1tZCk7XG4gIH1cbiAgLnJlZmVydG8tY2FyZCBoNCB7XG4gICAgZm9udC1zaXplOiB2YXIoLS10ZXh0LWxnKTtcbiAgfVxuICAucmVmZXJ0by1jYXJkIHAge1xuICAgIGZvbnQtc2l6ZTogdmFyKC0tdGV4dC14cyk7XG4gIH1cbiAgLnJlZmVydG8tY2FyZCBwIHN0cm9uZyB7XG4gICAgbWluLXdpZHRoOiA4MHB4O1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIG1hcmdpbi1ib3R0b206IDJweDtcbiAgfVxufSIsIi8qID09PT09PT09PT09PT09PT09PT09IENPTlRBSU5FUiA9PT09PT09PT09PT09PT09PT09PSAqL1xyXG4uY29udGFpbmVyIHtcclxuICBtYXgtd2lkdGg6IDE0MDBweDtcclxuICBtYXJnaW46IDAgYXV0bztcclxuICBwYWRkaW5nOiB2YXIoLS1zcGFjaW5nLXhsKTtcclxuICBhbmltYXRpb246IGZhZGVJbiB2YXIoLS10cmFuc2l0aW9uLWJhc2UpO1xyXG59XHJcblxyXG5oMiB7XHJcbiAgZm9udC1zaXplOiAyLjVyZW07XHJcbiAgZm9udC13ZWlnaHQ6IDgwMDtcclxuICBtYXJnaW4tYm90dG9tOiB2YXIoLS1zcGFjaW5nLTJ4bCk7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIGdhcDogdmFyKC0tc3BhY2luZy1sZyk7XHJcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzFlM2E4YSAwJSwgIzNiODJmNiA1MCUsICMxMGI5ODEgMTAwJSk7XHJcbiAgLXdlYmtpdC1iYWNrZ3JvdW5kLWNsaXA6IHRleHQ7XHJcbiAgLXdlYmtpdC10ZXh0LWZpbGwtY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gIGJhY2tncm91bmQtY2xpcDogdGV4dDtcclxuICBhbmltYXRpb246IHNsaWRlVXAgMC42cyBlYXNlLW91dDtcclxuXHJcbiAgJjo6YmVmb3JlIHtcclxuICAgIGNvbnRlbnQ6ICfDsMKfwpPCiyc7XHJcbiAgICBmb250LXNpemU6IDNyZW07XHJcbiAgICBmaWx0ZXI6IGRyb3Atc2hhZG93KDAgNHB4IDEwcHggcmdiYSg1OSwgMTMwLCAyNDYsIDAuMykpO1xyXG4gIH1cclxufVxyXG5cclxuaDMge1xyXG4gIGNvbG9yOiB2YXIoLS1ncmF5LTgwMCk7XHJcbiAgZm9udC1zaXplOiB2YXIoLS10ZXh0LXhsKTtcclxuICBmb250LXdlaWdodDogNjAwO1xyXG4gIG1hcmdpbi1ib3R0b206IHZhcigtLXNwYWNpbmctbGcpO1xyXG59XHJcblxyXG4vKiA9PT09PT09PT09PT09PT09PT09PSBTRUFSQ0ggU0VDVElPTiA9PT09PT09PT09PT09PT09PT09PSAqL1xyXG4uc2VhcmNoLXNlY3Rpb24ge1xyXG4gIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICNmZmZmZmYgMCUsICNmOGZhZmMgMTAwJSk7XHJcbiAgcGFkZGluZzogdmFyKC0tc3BhY2luZy0yeGwpO1xyXG4gIGJvcmRlci1yYWRpdXM6IDIwcHg7XHJcbiAgbWFyZ2luLWJvdHRvbTogdmFyKC0tc3BhY2luZy0yeGwpO1xyXG4gIGJveC1zaGFkb3c6IDAgMTBweCA0MHB4IHJnYmEoMCwgMCwgMCwgMC4wOCk7XHJcbiAgYm9yZGVyOiAycHggc29saWQgcmdiYSg1OSwgMTMwLCAyNDYsIDAuMSk7XHJcbiAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTtcclxuICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuXHJcbiAgJjo6YmVmb3JlIHtcclxuICAgIGNvbnRlbnQ6ICcnO1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiAwO1xyXG4gICAgbGVmdDogMDtcclxuICAgIHJpZ2h0OiAwO1xyXG4gICAgaGVpZ2h0OiA0cHg7XHJcbiAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoOTBkZWcsICMxZTNhOGEgMCUsICMzYjgyZjYgNTAlLCAjMTBiOTgxIDEwMCUpO1xyXG4gICAgYm94LXNoYWRvdzogMCAycHggMTBweCByZ2JhKDU5LCAxMzAsIDI0NiwgMC41KTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDIwcHggMjBweCAwIDA7XHJcbiAgfVxyXG5cclxuICAmOmhvdmVyIHtcclxuICAgIGJveC1zaGFkb3c6IDAgMjBweCA2MHB4IHJnYmEoNTksIDEzMCwgMjQ2LCAwLjE1KTtcclxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNHB4KTtcclxuICB9XHJcbn1cclxuXHJcbi5zZWFyY2gtaGludCB7XHJcbiAgY29sb3I6IHZhcigtLWdyYXktNjAwKTtcclxuICBmb250LXNpemU6IHZhcigtLXRleHQtc20pO1xyXG4gIG1hcmdpbi1ib3R0b206IHZhcigtLXNwYWNpbmctbGcpO1xyXG4gIGZvbnQtc3R5bGU6IGl0YWxpYztcclxufVxyXG5cclxuLnNlYXJjaC1mb3JtIHtcclxuICBkaXNwbGF5OiBncmlkO1xyXG4gIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZml0LCBtaW5tYXgoMjUwcHgsIDFmcikpO1xyXG4gIGdhcDogdmFyKC0tc3BhY2luZy1sZyk7XHJcbiAgbWFyZ2luLWJvdHRvbTogdmFyKC0tc3BhY2luZy1sZyk7XHJcbn1cclxuXHJcbi5mb3JtLWdyb3VwIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgZ2FwOiB2YXIoLS1zcGFjaW5nLXNtKTtcclxuXHJcbiAgbGFiZWwge1xyXG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICAgIGNvbG9yOiB2YXIoLS1ncmF5LTcwMCk7XHJcbiAgICBmb250LXNpemU6IHZhcigtLXRleHQtc20pO1xyXG4gIH1cclxuXHJcbiAgaW5wdXQsXHJcbiAgc2VsZWN0IHtcclxuICAgIGZsZXg6IDE7XHJcbiAgICBwYWRkaW5nOiB2YXIoLS1zcGFjaW5nLW1kKSB2YXIoLS1zcGFjaW5nLWxnKTtcclxuICAgIGJvcmRlcjogMnB4IHNvbGlkIHZhcigtLWdyYXktMzAwKTtcclxuICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLXJhZGl1cy1tZCk7XHJcbiAgICBmb250LXNpemU6IHZhcigtLXRleHQtYmFzZSk7XHJcbiAgICBmb250LWZhbWlseTogdmFyKC0tZm9udC1mYW1pbHktYmFzZSk7XHJcbiAgICB0cmFuc2l0aW9uOiBhbGwgdmFyKC0tdHJhbnNpdGlvbi1mYXN0KTtcclxuICAgIGJhY2tncm91bmQ6IHdoaXRlO1xyXG5cclxuICAgICY6aG92ZXIge1xyXG4gICAgICBib3JkZXItY29sb3I6IHZhcigtLXByaW1hcnktMzAwKTtcclxuICAgIH1cclxuXHJcbiAgICAmOmZvY3VzIHtcclxuICAgICAgb3V0bGluZTogbm9uZTtcclxuICAgICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1wcmltYXJ5LTUwMCk7XHJcbiAgICAgIGJveC1zaGFkb3c6IDAgMCAwIDNweCB2YXIoLS1wcmltYXJ5LTUwKTtcclxuICAgIH1cclxuXHJcbiAgICAmOjpwbGFjZWhvbGRlciB7XHJcbiAgICAgIGNvbG9yOiB2YXIoLS1ncmF5LTQwMCk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG4uc2VhcmNoLWFjdGlvbnMge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZ2FwOiB2YXIoLS1zcGFjaW5nLW1kKTtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xyXG4gIHBhZGRpbmctdG9wOiB2YXIoLS1zcGFjaW5nLW1kKTtcclxuICBib3JkZXItdG9wOiAxcHggc29saWQgdmFyKC0tZ3JheS0yMDApO1xyXG59XHJcblxyXG4uYnRuLXNlYXJjaCwgLmJ0bi1yZXNldCB7XHJcbiAgcGFkZGluZzogdmFyKC0tc3BhY2luZy1tZCkgdmFyKC0tc3BhY2luZy14bCk7XHJcbiAgYm9yZGVyOiBub25lO1xyXG4gIGJvcmRlci1yYWRpdXM6IHZhcigtLXJhZGl1cy1tZCk7XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgZm9udC1zaXplOiB2YXIoLS10ZXh0LWJhc2UpO1xyXG4gIHRyYW5zaXRpb246IGFsbCB2YXIoLS10cmFuc2l0aW9uLWZhc3QpO1xyXG4gIGJveC1zaGFkb3c6IHZhcigtLXNoYWRvdy1zbSk7XHJcblxyXG4gICY6aG92ZXIge1xyXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0ycHgpO1xyXG4gICAgYm94LXNoYWRvdzogdmFyKC0tc2hhZG93LWxnKTtcclxuICB9XHJcblxyXG4gICY6YWN0aXZlIHtcclxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTtcclxuICB9XHJcbn1cclxuXHJcbi5idG4tc2VhcmNoIHtcclxuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCB2YXIoLS1wcmltYXJ5LTYwMCkgMCUsIHZhcigtLXByaW1hcnktNzAwKSAxMDAlKTtcclxuICBjb2xvcjogd2hpdGU7XHJcblxyXG4gICY6aG92ZXIge1xyXG4gICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgdmFyKC0tcHJpbWFyeS03MDApIDAlLCB2YXIoLS1wcmltYXJ5LTgwMCkgMTAwJSk7XHJcbiAgfVxyXG59XHJcblxyXG4uYnRuLXJlc2V0IHtcclxuICBiYWNrZ3JvdW5kOiB2YXIoLS1ncmF5LTIwMCk7XHJcbiAgY29sb3I6IHZhcigtLWdyYXktNzAwKTtcclxuXHJcbiAgJjpob3ZlciB7XHJcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1ncmF5LTMwMCk7XHJcbiAgfVxyXG59XHJcblxyXG4vKiA9PT09PT09PT09PT09PT09PT09PSBSRUZFUlRJIEdSSUQgPT09PT09PT09PT09PT09PT09PT0gKi9cclxuLnJlZmVydGktZ3JpZCB7XHJcbiAgZGlzcGxheTogZ3JpZDtcclxuICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpbGwsIG1pbm1heCgzODBweCwgMWZyKSk7XHJcbiAgZ2FwOiB2YXIoLS1zcGFjaW5nLXhsKTtcclxuICBhbmltYXRpb246IHNsaWRlVXAgdmFyKC0tdHJhbnNpdGlvbi1iYXNlKTtcclxufVxyXG5cclxuLnJlZmVydG8tY2FyZCB7XHJcbiAgYmFja2dyb3VuZDogd2hpdGU7XHJcbiAgYm9yZGVyOiAycHggc29saWQgdmFyKC0tZ3JheS0yMDApO1xyXG4gIGJvcmRlci1yYWRpdXM6IHZhcigtLXJhZGl1cy14bCk7XHJcbiAgcGFkZGluZzogdmFyKC0tc3BhY2luZy14bCk7XHJcbiAgYm94LXNoYWRvdzogdmFyKC0tc2hhZG93LW1kKTtcclxuICB0cmFuc2l0aW9uOiBhbGwgdmFyKC0tdHJhbnNpdGlvbi1iYXNlKTtcclxuICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuXHJcbiAgJjo6YmVmb3JlIHtcclxuICAgIGNvbnRlbnQ6ICcnO1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiAwO1xyXG4gICAgbGVmdDogMDtcclxuICAgIHJpZ2h0OiAwO1xyXG4gICAgaGVpZ2h0OiA0cHg7XHJcbiAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoOTBkZWcsIHZhcigtLXByaW1hcnktNTAwKSwgdmFyKC0tYWNjZW50LTUwMCkpO1xyXG4gIH1cclxuXHJcbiAgJjpob3ZlciB7XHJcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTRweCk7XHJcbiAgICBib3gtc2hhZG93OiB2YXIoLS1zaGFkb3cteGwpO1xyXG4gICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1wcmltYXJ5LTMwMCk7XHJcbiAgfVxyXG5cclxuICAmLm15LXJlZmVydG8ge1xyXG4gICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgI2ZmZmJlYiAwJSwgI2ZlZjNjNyAxMDAlKTtcclxuICAgIGJvcmRlci1jb2xvcjogI2ZiYmYyNDtcclxuICAgIGJveC1zaGFkb3c6IDAgNHB4IDEycHggcmdiYSgyNTEsIDE5MSwgMzYsIDAuMyk7XHJcblxyXG4gICAgJjo6YmVmb3JlIHtcclxuICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDkwZGVnLCAjZjU5ZTBiLCAjZmJiZjI0KTtcclxuICAgIH1cclxuXHJcbiAgICAmOmhvdmVyIHtcclxuICAgICAgYm9yZGVyLWNvbG9yOiAjZjU5ZTBiO1xyXG4gICAgICBib3gtc2hhZG93OiAwIDhweCAyMHB4IHJnYmEoMjUxLCAxOTEsIDM2LCAwLjQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLm15LXJlZmVydG8tbGFiZWwge1xyXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgI2Y1OWUwYiwgI2ZiYmYyNCk7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBwYWRkaW5nOiB2YXIoLS1zcGFjaW5nLXNtKSB2YXIoLS1zcGFjaW5nLW1kKTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDEycHg7XHJcbiAgICBmb250LXNpemU6IDAuOXJlbTtcclxuICAgIGZvbnQtd2VpZ2h0OiA3MDA7XHJcbiAgICBtYXJnaW4tYm90dG9tOiB2YXIoLS1zcGFjaW5nLW1kKTtcclxuICAgIGJveC1zaGFkb3c6IDAgNHB4IDE1cHggcmdiYSgyNTEsIDE5MSwgMzYsIDAuNCk7XHJcbiAgICBhbmltYXRpb246IHB1bHNlIDJzIGVhc2UtaW4tb3V0IGluZmluaXRlO1xyXG4gIH1cclxuXHJcbiAgLnJlZmVydG8taGVhZGVyIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbiAgICBhbGlnbi1pdGVtczogZmxleC1zdGFydDtcclxuICAgIG1hcmdpbi1ib3R0b206IHZhcigtLXNwYWNpbmctbWQpO1xyXG5cclxuICAgIC5iYWRnZSB7XHJcbiAgICAgIGJhY2tncm91bmQ6IHZhcigtLXByaW1hcnktMTAwKTtcclxuICAgICAgY29sb3I6IHZhcigtLXByaW1hcnktNzAwKTtcclxuICAgICAgcGFkZGluZzogdmFyKC0tc3BhY2luZy14cykgdmFyKC0tc3BhY2luZy1zbSk7XHJcbiAgICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLWJvcmRlci1yYWRpdXMtc20pO1xyXG4gICAgICBmb250LXNpemU6IDAuODVyZW07XHJcbiAgICAgIGZvbnQtd2VpZ2h0OiA3MDA7XHJcbiAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XHJcbiAgICAgIG1hcmdpbi1sZWZ0OiB2YXIoLS1zcGFjaW5nLXNtKTtcclxuXHJcbiAgICAgICYuYmFkZ2UtcmFkaW9ncmFmaWEge1xyXG4gICAgICAgIGJhY2tncm91bmQ6ICNkMWZhZTU7XHJcbiAgICAgICAgY29sb3I6ICMwNjVmNDY7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICYuYmFkZ2UtZWNvZ3JhZmlhIHtcclxuICAgICAgICBiYWNrZ3JvdW5kOiAjZGJlYWZlO1xyXG4gICAgICAgIGNvbG9yOiAjMWU0MGFmO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAmLmJhZGdlLXRhYyB7XHJcbiAgICAgICAgYmFja2dyb3VuZDogI2VkZTlmZTtcclxuICAgICAgICBjb2xvcjogIzViMjFiNjtcclxuICAgICAgfVxyXG5cclxuICAgICAgJi5iYWRnZS1yaXNvbmFuemEge1xyXG4gICAgICAgIGJhY2tncm91bmQ6ICNlNWU3ZWI7XHJcbiAgICAgICAgY29sb3I6ICMzNzQxNTE7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICYuYmFkZ2UtbGFib3JhdG9yaW8ge1xyXG4gICAgICAgIGJhY2tncm91bmQ6ICNmZWUyZTI7XHJcbiAgICAgICAgY29sb3I6ICM5OTFiMWI7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGg0IHtcclxuICAgIG1hcmdpbjogMDtcclxuICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5LTcwMCk7XHJcbiAgICBmb250LXNpemU6IHZhcigtLXRleHQteGwpO1xyXG4gICAgZm9udC13ZWlnaHQ6IDcwMDtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgZ2FwOiB2YXIoLS1zcGFjaW5nLXNtKTtcclxuICAgIGZsZXg6IDE7XHJcbiAgICB3b3JkLWJyZWFrOiBicmVhay13b3JkO1xyXG5cclxuICAgICY6OmJlZm9yZSB7XHJcbiAgICAgIGNvbnRlbnQ6ICfDsMKfwpHCpCc7XHJcbiAgICAgIGZvbnQtc2l6ZTogdmFyKC0tdGV4dC0yeGwpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcCB7XHJcbiAgICBtYXJnaW46IHZhcigtLXNwYWNpbmctc20pIDA7XHJcbiAgICBmb250LXNpemU6IHZhcigtLXRleHQtc20pO1xyXG4gICAgbGluZS1oZWlnaHQ6IDEuNjtcclxuICAgIGNvbG9yOiB2YXIoLS1ncmF5LTcwMCk7XHJcblxyXG4gICAgc3Ryb25nIHtcclxuICAgICAgY29sb3I6IHZhcigtLWdyYXktOTAwKTtcclxuICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgICBtaW4td2lkdGg6IDEwMHB4O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLmFjdGlvbnMge1xyXG4gICAgbWFyZ2luLXRvcDogdmFyKC0tc3BhY2luZy1sZyk7XHJcbiAgICBwYWRkaW5nLXRvcDogdmFyKC0tc3BhY2luZy1sZyk7XHJcbiAgICBib3JkZXItdG9wOiAxcHggc29saWQgdmFyKC0tZ3JheS0yMDApO1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGdhcDogdmFyKC0tc3BhY2luZy1zbSk7XHJcblxyXG4gICAgYnV0dG9uIHtcclxuICAgICAgZmxleDogMTtcclxuICAgICAgcGFkZGluZzogdmFyKC0tc3BhY2luZy1zbSkgdmFyKC0tc3BhY2luZy1tZCk7XHJcbiAgICAgIGJhY2tncm91bmQ6IHZhcigtLWdyYXktMTAwKTtcclxuICAgICAgY29sb3I6IHZhcigtLWdyYXktODAwKTtcclxuICAgICAgYm9yZGVyOiAycHggc29saWQgdmFyKC0tZ3JheS0zMDApO1xyXG4gICAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1yYWRpdXMtbWQpO1xyXG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICAgIGZvbnQtc2l6ZTogdmFyKC0tdGV4dC1zbSk7XHJcbiAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgICAgIHRyYW5zaXRpb246IGFsbCB2YXIoLS10cmFuc2l0aW9uLWZhc3QpO1xyXG5cclxuICAgICAgJjpmaXJzdC1jaGlsZCB7XHJcbiAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgdmFyKC0tZXJyb3IpIDAlLCAjZDMyZjJmIDEwMCUpO1xyXG4gICAgICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgICAgICBib3JkZXItY29sb3I6IHZhcigtLWVycm9yKTtcclxuXHJcbiAgICAgICAgJjpob3ZlciB7XHJcbiAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTJweCk7XHJcbiAgICAgICAgICBib3gtc2hhZG93OiB2YXIoLS1zaGFkb3ctbWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgJjpsYXN0LWNoaWxkIHtcclxuICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCB2YXIoLS1hY2NlbnQtNTAwKSAwJSwgdmFyKC0tYWNjZW50LTcwMCkgMTAwJSk7XHJcbiAgICAgICAgY29sb3I6IHdoaXRlO1xyXG4gICAgICAgIGJvcmRlci1jb2xvcjogdmFyKC0tYWNjZW50LTUwMCk7XHJcblxyXG4gICAgICAgICY6aG92ZXIge1xyXG4gICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0ycHgpO1xyXG4gICAgICAgICAgYm94LXNoYWRvdzogdmFyKC0tc2hhZG93LW1kKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8qID09PT09PT09PT09PT09PT09PT09IFNUQVRFUyA9PT09PT09PT09PT09PT09PT09PSAqL1xyXG4uZXJyb3Ige1xyXG4gIGNvbG9yOiB3aGl0ZTtcclxuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCB2YXIoLS1lcnJvcikgMCUsICNkMzJmMmYgMTAwJSk7XHJcbiAgcGFkZGluZzogdmFyKC0tc3BhY2luZy1sZyk7XHJcbiAgYm9yZGVyLXJhZGl1czogdmFyKC0tcmFkaXVzLWxnKTtcclxuICBtYXJnaW46IHZhcigtLXNwYWNpbmctbGcpIDA7XHJcbiAgYm9yZGVyLWxlZnQ6IDRweCBzb2xpZCAjYjcxYzFjO1xyXG4gIGJveC1zaGFkb3c6IHZhcigtLXNoYWRvdy1tZCk7XHJcbiAgZm9udC13ZWlnaHQ6IDUwMDtcclxufVxyXG5cclxuLmxvYWRpbmcge1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICBwYWRkaW5nOiB2YXIoLS1zcGFjaW5nLTN4bCk7XHJcbiAgY29sb3I6IHZhcigtLWdyYXktNjAwKTtcclxuICBmb250LXNpemU6IHZhcigtLXRleHQtbGcpO1xyXG4gIGFuaW1hdGlvbjogcHVsc2UgMnMgaW5maW5pdGU7XHJcbn1cclxuXHJcbi5uby1yZXN1bHRzIHtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgcGFkZGluZzogdmFyKC0tc3BhY2luZy0zeGwpO1xyXG4gIGNvbG9yOiB2YXIoLS1ncmF5LTUwMCk7XHJcbiAgZm9udC1zaXplOiB2YXIoLS10ZXh0LWxnKTtcclxuICBiYWNrZ3JvdW5kOiB3aGl0ZTtcclxuICBib3JkZXItcmFkaXVzOiB2YXIoLS1yYWRpdXMteGwpO1xyXG4gIGJvcmRlcjogMnB4IGRhc2hlZCB2YXIoLS1ncmF5LTMwMCk7XHJcbn1cclxuXHJcbi8qID09PT09PT09PT09PT09PT09PT09IFJFU1BPTlNJVkUgREVTSUdOID09PT09PT09PT09PT09PT09PT09ICovXHJcblxyXG4vKiBUYWJsZXQgKi9cclxuQG1lZGlhIChtYXgtd2lkdGg6IDEwMjRweCkge1xyXG4gIC5jb250YWluZXIge1xyXG4gICAgcGFkZGluZzogdmFyKC0tc3BhY2luZy1sZyk7XHJcbiAgfVxyXG5cclxuICAucmVmZXJ0aS1ncmlkIHtcclxuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZmlsbCwgbWlubWF4KDMyMHB4LCAxZnIpKTtcclxuICAgIGdhcDogdmFyKC0tc3BhY2luZy1sZyk7XHJcbiAgfVxyXG5cclxuICAuc2VhcmNoLXNlY3Rpb24ge1xyXG4gICAgcGFkZGluZzogdmFyKC0tc3BhY2luZy14bCk7XHJcbiAgfVxyXG59XHJcblxyXG4vKiBNb2JpbGUgKi9cclxuQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7XHJcbiAgLmNvbnRhaW5lciB7XHJcbiAgICBwYWRkaW5nOiB2YXIoLS1zcGFjaW5nLW1kKTtcclxuICB9XHJcblxyXG4gIGgyIHtcclxuICAgIGZvbnQtc2l6ZTogdmFyKC0tdGV4dC0yeGwpO1xyXG4gIH1cclxuXHJcbiAgLnNlYXJjaC1zZWN0aW9uIHtcclxuICAgIHBhZGRpbmc6IHZhcigtLXNwYWNpbmctbGcpO1xyXG4gIH1cclxuXHJcbiAgLnNlYXJjaC1mb3JtIHtcclxuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyO1xyXG4gIH1cclxuXHJcbiAgLnNlYXJjaC1hY3Rpb25zIHtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcblxyXG4gICAgLmJ0bi1zZWFyY2gsIC5idG4tcmVzZXQge1xyXG4gICAgICB3aWR0aDogMTAwJTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC5yZWZlcnRpLWdyaWQge1xyXG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnI7XHJcbiAgICBnYXA6IHZhcigtLXNwYWNpbmctbWQpO1xyXG4gIH1cclxuXHJcbiAgLnJlZmVydG8tY2FyZCB7XHJcbiAgICBwYWRkaW5nOiB2YXIoLS1zcGFjaW5nLWxnKTtcclxuXHJcbiAgICAuYWN0aW9ucyB7XHJcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcblxyXG4gICAgICBidXR0b24ge1xyXG4gICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG4vKiBTbWFsbCBNb2JpbGUgKi9cclxuQG1lZGlhIChtYXgtd2lkdGg6IDQ4MHB4KSB7XHJcbiAgaDIge1xyXG4gICAgZm9udC1zaXplOiB2YXIoLS10ZXh0LXhsKTtcclxuICAgIFxyXG4gICAgJjo6YmVmb3JlIHtcclxuICAgICAgZm9udC1zaXplOiB2YXIoLS10ZXh0LTJ4bCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAuc2VhcmNoLXNlY3Rpb24ge1xyXG4gICAgcGFkZGluZzogdmFyKC0tc3BhY2luZy1tZCk7XHJcbiAgfVxyXG5cclxuICAucmVmZXJ0by1jYXJkIHtcclxuICAgIHBhZGRpbmc6IHZhcigtLXNwYWNpbmctbWQpO1xyXG5cclxuICAgIGg0IHtcclxuICAgICAgZm9udC1zaXplOiB2YXIoLS10ZXh0LWxnKTtcclxuICAgIH1cclxuXHJcbiAgICBwIHtcclxuICAgICAgZm9udC1zaXplOiB2YXIoLS10ZXh0LXhzKTtcclxuXHJcbiAgICAgIHN0cm9uZyB7XHJcbiAgICAgICAgbWluLXdpZHRoOiA4MHB4O1xyXG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgICAgIG1hcmdpbi1ib3R0b206IDJweDtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n      });\n    }\n  }\n  return RefertiListComponent;\n})();","map":{"version":3,"names":["CommonModule","FormsModule","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ctx_r0","errorMessage","ɵɵtextInterpolate1","referto_r2","testoReferto","conclusioni","ɵɵlistener","RefertiListComponent_div_36_div_1_button_23_Template_button_click_0_listener","ɵɵrestoreView","_r3","ɵɵnextContext","$implicit","ɵɵresetView","downloadPdf","id","RefertiListComponent_div_36_div_1_button_24_Template_button_click_0_listener","_r4","downloadImmagine","ɵɵtemplate","RefertiListComponent_div_36_div_1_p_6_Template","RefertiListComponent_div_36_div_1_p_20_Template","RefertiListComponent_div_36_div_1_p_21_Template","RefertiListComponent_div_36_div_1_button_23_Template","RefertiListComponent_div_36_div_1_button_24_Template","ɵɵproperty","ɵɵpureFunction1","_c0","isMyReferto","nomePaziente","getBadgeClass","tipoEsame","codiceFiscale","autoreEmail","ɵɵpipeBind2","dataCaricamento","urlPdfGenerato","fileUrlImmagine","RefertiListComponent_div_36_div_1_Template","referti","RefertiListComponent","constructor","refertiService","userEmail","searchCodiceFiscale","searchTipoEsame","loading","searched","ngOnInit","searchReferti","trim","getAllReferti","subscribe","next","data","sortReferti","error","console","searchResults","completedSearches","totalSearches","checkComplete","length","allIds","map","results","Set","r","commonIds","Array","from","filter","every","set","has","includes","getRefertoByCodiceFiscale","toUpperCase","push","isArray","getRefertiByTipoEsame","resetSearch","referto","sort","a","b","aIsMine","bIsMine","tipo","log","blob","url","window","URL","createObjectURL","document","createElement","href","download","body","appendChild","click","revokeObjectURL","removeChild","ɵɵdirectiveInject","i1","RefertiService","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","RefertiListComponent_Template","rf","ctx","ɵɵtwoWayListener","RefertiListComponent_Template_input_ngModelChange_12_listener","$event","ɵɵtwoWayBindingSet","RefertiListComponent_Template_select_ngModelChange_16_listener","RefertiListComponent_Template_button_click_30_listener","RefertiListComponent_Template_button_click_32_listener","RefertiListComponent_div_34_Template","RefertiListComponent_div_35_Template","RefertiListComponent_div_36_Template","RefertiListComponent_div_37_Template","ɵɵtwoWayProperty","i2","NgClass","NgForOf","NgIf","DatePipe","i3","NgSelectOption","ɵNgSelectMultipleOption","DefaultValueAccessor","SelectControlValueAccessor","NgControlStatus","MaxLengthValidator","NgModel","styles"],"sources":["C:\\Users\\gianm\\Desktop\\UNIVERSITÀ\\CLOUD\\medsafe-frontend\\src\\app\\components\\referti-list\\referti-list.component.ts","C:\\Users\\gianm\\Desktop\\UNIVERSITÀ\\CLOUD\\medsafe-frontend\\src\\app\\components\\referti-list\\referti-list.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { RefertiService, RefertoDTO } from '../../services/referti.service';\r\n\r\n@Component({\r\n  selector: 'app-referti-list',\r\n  standalone: true,\r\n  imports: [CommonModule, FormsModule],\r\n  templateUrl: './referti-list.component.html',\r\n  styleUrl: './referti-list.component.scss'\r\n})\r\nexport class RefertiListComponent implements OnInit {\r\n  // Simulazione utente loggato come admin\r\n  // TODO: Rimuovere quando il backend gestirà l'autenticazione\r\n  private readonly userEmail = 'admin@medsafe.local';\r\n  \r\n  referti: RefertoDTO[] = [];\r\n  searchCodiceFiscale = '';\r\n  searchTipoEsame = '';\r\n  loading = false;\r\n  errorMessage = '';\r\n  searched = false;\r\n\r\n  constructor(private refertiService: RefertiService) {}\r\n\r\n  ngOnInit(): void {}\r\n\r\n  searchReferti(): void {\r\n    // Se nessun campo è compilato, mostra tutti i referti\r\n    if (!this.searchCodiceFiscale.trim() && !this.searchTipoEsame) {\r\n      this.loading = true;\r\n      this.errorMessage = '';\r\n      this.searched = true;\r\n      \r\n      this.refertiService.getAllReferti().subscribe({\r\n        next: (data) => {\r\n          this.referti = this.sortReferti(data);\r\n          this.loading = false;\r\n        },\r\n        error: (error) => {\r\n          this.errorMessage = 'Errore durante il caricamento dei referti';\r\n          console.error('Error:', error);\r\n          this.loading = false;\r\n        }\r\n      });\r\n      return;\r\n    }\r\n\r\n    this.loading = true;\r\n    this.errorMessage = '';\r\n    this.searched = true;\r\n    this.referti = [];\r\n\r\n    // Array per raccogliere i risultati da tutte le ricerche\r\n    const searchResults: RefertoDTO[][] = [];\r\n    let completedSearches = 0;\r\n    let totalSearches = 0;\r\n\r\n    // Conta quante ricerche fare\r\n    if (this.searchCodiceFiscale.trim()) totalSearches++;\r\n    if (this.searchTipoEsame) totalSearches++;\r\n\r\n    const checkComplete = () => {\r\n      completedSearches++;\r\n      if (completedSearches === totalSearches) {\r\n        // Combina i risultati e filtra duplicati\r\n        if (searchResults.length === 0) {\r\n          this.referti = [];\r\n          this.loading = false;\r\n          return;\r\n        }\r\n\r\n        // Intersezione dei risultati (solo referti presenti in tutti i risultati)\r\n        if (searchResults.length === 1) {\r\n          this.referti = searchResults[0];\r\n        } else {\r\n          // Trova referti comuni a tutti i set di risultati\r\n          const allIds = searchResults.map(results => \r\n            new Set(results.map(r => r.id))\r\n          );\r\n          \r\n          const commonIds = Array.from(allIds[0]).filter(id => \r\n            allIds.every(set => set.has(id))\r\n          );\r\n\r\n          this.referti = searchResults[0].filter(r => commonIds.includes(r.id));\r\n        }\r\n\r\n        // Ordina i referti mettendo quelli dell'utente loggato in cima\r\n        this.referti = this.sortReferti(this.referti);\r\n\r\n        this.loading = false;\r\n      }\r\n    };\r\n\r\n    // Esegui ricerche in parallelo\r\n    if (this.searchCodiceFiscale.trim()) {\r\n      this.refertiService.getRefertoByCodiceFiscale(this.searchCodiceFiscale.toUpperCase()).subscribe({\r\n        next: (data) => {\r\n          searchResults.push(Array.isArray(data) ? data : [data]);\r\n          checkComplete();\r\n        },\r\n        error: (error) => {\r\n          this.errorMessage = 'Errore durante la ricerca per codice fiscale';\r\n          console.error('Error:', error);\r\n          this.loading = false;\r\n        }\r\n      });\r\n    }\r\n\r\n    if (this.searchTipoEsame) {\r\n      this.refertiService.getRefertiByTipoEsame(this.searchTipoEsame).subscribe({\r\n        next: (data) => {\r\n          searchResults.push(data);\r\n          checkComplete();\r\n        },\r\n        error: (error) => {\r\n          this.errorMessage = 'Errore durante la ricerca per tipo esame';\r\n          console.error('Error:', error);\r\n          this.loading = false;\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  resetSearch(): void {\r\n    this.searchCodiceFiscale = '';\r\n    this.searchTipoEsame = '';\r\n    this.referti = [];\r\n    this.errorMessage = '';\r\n    this.searched = false;\r\n  }\r\n\r\n  isMyReferto(referto: RefertoDTO): boolean {\r\n    return referto.autoreEmail === this.userEmail;\r\n  }\r\n\r\n  sortReferti(referti: RefertoDTO[]): RefertoDTO[] {\r\n    return referti.sort((a, b) => {\r\n      const aIsMine = this.isMyReferto(a);\r\n      const bIsMine = this.isMyReferto(b);\r\n      \r\n      if (aIsMine && !bIsMine) return -1;\r\n      if (!aIsMine && bIsMine) return 1;\r\n      return 0;\r\n    });\r\n  }\r\n\r\n  getBadgeClass(tipoEsame: string): string {\r\n    const tipo = tipoEsame?.toUpperCase() || '';\r\n    switch(tipo) {\r\n      case 'RADIOGRAFIA':\r\n      case 'Radiografia'.toUpperCase():\r\n        return 'badge-radiografia';\r\n      case 'ECOGRAFIA':\r\n      case 'Ecografia'.toUpperCase():\r\n        return 'badge-ecografia';\r\n      case 'TAC':\r\n        return 'badge-tac';\r\n      case 'RISONANZA':\r\n      case 'RISONANZA MAGNETICA':\r\n      case 'Risonanza'.toUpperCase():\r\n        return 'badge-risonanza';\r\n      case 'ESAMI_LABORATORIO':\r\n      case 'ESAMI DI LABORATORIO':\r\n      case 'Esami_Laboratorio'.toUpperCase():\r\n        return 'badge-laboratorio';\r\n      default:\r\n        console.log('Tipo esame non riconosciuto:', tipoEsame);\r\n        return '';\r\n    }\r\n  }\r\n\r\n  downloadPdf(id: number): void {\r\n    this.refertiService.downloadPdf(id).subscribe({\r\n      next: (blob) => {\r\n        const url = window.URL.createObjectURL(blob);\r\n        const a = document.createElement('a');\r\n        a.href = url;\r\n        a.download = `referto_${id}.pdf`;\r\n        document.body.appendChild(a);\r\n        a.click();\r\n        window.URL.revokeObjectURL(url);\r\n        document.body.removeChild(a);\r\n      },\r\n      error: (error) => {\r\n        this.errorMessage = 'Errore durante il download del PDF';\r\n        console.error('Error:', error);\r\n      }\r\n    });\r\n  }\r\n\r\n  downloadImmagine(id: number): void {\r\n    this.refertiService.downloadImmagine(id).subscribe({\r\n      next: (blob) => {\r\n        const url = window.URL.createObjectURL(blob);\r\n        const a = document.createElement('a');\r\n        a.href = url;\r\n        a.download = `immagine_${id}`;\r\n        document.body.appendChild(a);\r\n        a.click();\r\n        window.URL.revokeObjectURL(url);\r\n        document.body.removeChild(a);\r\n      },\r\n      error: (error) => {\r\n        this.errorMessage = 'Errore durante il download dell\\'immagine';\r\n        console.error('Error:', error);\r\n      }\r\n    });\r\n  }\r\n}\r\n","<div class=\"container\">\r\n  <h2>Lista Referti</h2>\r\n  \r\n  <div class=\"search-section\">\r\n    <h3>Cerca Referti</h3>\r\n    <p class=\"search-hint\">Compila uno o più campi per filtrare i risultati</p>\r\n    <div class=\"search-form\">\r\n      <div class=\"form-group\">\r\n        <label>Codice Fiscale:</label>\r\n        <input \r\n          type=\"text\" \r\n          [(ngModel)]=\"searchCodiceFiscale\" \r\n          placeholder=\"Inserisci codice fiscale\"\r\n          maxlength=\"16\">\r\n      </div>\r\n\r\n      <div class=\"form-group\">\r\n        <label>Tipo Esame:</label>\r\n        <select [(ngModel)]=\"searchTipoEsame\">\r\n          <option value=\"\">Tutti</option>\r\n          <option value=\"TAC\">TAC</option>\r\n          <option value=\"Radiografia\">Radiografia</option>\r\n          <option value=\"Ecografia\">Ecografia</option>\r\n          <option value=\"Risonanza\">Risonanza Magnetica</option>\r\n          <option value=\"Esami_Laboratorio\">Esami di Laboratorio</option>\r\n        </select>\r\n      </div>\r\n    </div>\r\n    \r\n    <div class=\"search-actions\">\r\n      <button class=\"btn-search\" (click)=\"searchReferti()\">\r\n        🔍 Cerca Referti\r\n      </button>\r\n      <button class=\"btn-reset\" (click)=\"resetSearch()\">\r\n        ↻ Reset\r\n      </button>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"error\" *ngIf=\"errorMessage\">{{ errorMessage }}</div>\r\n  <div class=\"loading\" *ngIf=\"loading\">Caricamento...</div>\r\n\r\n  <div class=\"referti-grid\" *ngIf=\"!loading && referti.length > 0\">\r\n    <div class=\"referto-card\" [ngClass]=\"{'my-referto': isMyReferto(referto)}\" *ngFor=\"let referto of referti\">\r\n      <div class=\"referto-header\">\r\n        <h4>{{ referto.nomePaziente }}</h4>\r\n        <span class=\"badge\" [ngClass]=\"getBadgeClass(referto.tipoEsame)\">{{ referto.tipoEsame }}</span>\r\n      </div>\r\n      <p *ngIf=\"isMyReferto(referto)\" class=\"my-referto-label\">👤 Tuo referto</p>\r\n      <p><strong>CF:</strong> {{ referto.codiceFiscale }}</p>\r\n      <p><strong>Medico:</strong> {{ referto.autoreEmail }}</p>\r\n      <p><strong>Data:</strong> {{ referto.dataCaricamento | date:'dd/MM/yyyy HH:mm' }}</p>\r\n      <p *ngIf=\"referto.testoReferto\"><strong>Referto:</strong> {{ referto.testoReferto }}</p>\r\n      <p *ngIf=\"referto.conclusioni\"><strong>Conclusioni:</strong> {{ referto.conclusioni }}</p>\r\n      \r\n      <div class=\"actions\">\r\n        <button (click)=\"downloadPdf(referto.id!)\" *ngIf=\"referto.urlPdfGenerato\">\r\n          Scarica Documento Referto\r\n        </button>\r\n        <button (click)=\"downloadImmagine(referto.id!)\" *ngIf=\"referto.fileUrlImmagine\">\r\n          Scarica Esame\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"no-results\" *ngIf=\"!loading && referti.length === 0 && searched\">\r\n    Nessun referto trovato con i criteri specificati.\r\n  </div>\r\n</div>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}